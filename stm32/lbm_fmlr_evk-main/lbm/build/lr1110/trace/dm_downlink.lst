ARM GAS  /tmp/ccvYfsV2.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"dm_downlink.c"
  10              		.text
  11              		.section	.rodata.dm_parse_cmd.str1.1,"aMS",%progbits,1
  12              	.LC0:
  13 0000 1B5B303B 		.ascii	"\033[0;31mERROR: Invalid DM command %x\012\000"
  13      33316D45 
  13      52524F52 
  13      3A20496E 
  13      76616C69 
  14              	.LC2:
  15 0025 1B5B306D 		.ascii	"\033[0m\000"
  15      00
  16              	.LC5:
  17 002a 1B5B303B 		.ascii	"\033[0;31mERROR: Invalid DM command size (too small"
  17      33316D45 
  17      52524F52 
  17      3A20496E 
  17      76616C69 
  18 005a 290A00   		.ascii	")\012\000"
  19              	.LC7:
  20 005d 1B5B303B 		.ascii	"\033[0;31mERROR: Invalid DM command size (too long)"
  20      33316D45 
  20      52524F52 
  20      3A20496E 
  20      76616C69 
  21 008d 0A00     		.ascii	"\012\000"
  22              	.LC10:
  23 008f 1B5B303B 		.ascii	"\033[0;33mWARN: DM_%s (0x%02x)\012\000"
  23      33336D57 
  23      41524E3A 
  23      20444D5F 
  23      25732028 
  24              	.LC12:
  25 00ac 1B5B303B 		.ascii	"\033[0;31mERROR: invalid DM reset code (0x%02x)\012"
  25      33316D45 
  25      52524F52 
  25      3A20696E 
  25      76616C69 
  26 00d9 00       		.ascii	"\000"
  27              	.LC16:
  28 00da 1B5B303B 		.ascii	"\033[0;31mERROR: invalid DM reset session code\012\000"
  28      33316D45 
  28      52524F52 
  28      3A20696E 
  28      76616C69 
  29              	.LC18:
  30 0107 1B5B303B 		.ascii	"\033[0;31mERROR: NOT RESET !!!\012\000"
  30      33316D45 
  30      52524F52 
ARM GAS  /tmp/ccvYfsV2.s 			page 2


  30      3A204E4F 
  30      54205245 
  31              	.LC20:
  32 0124 1B5B303B 		.ascii	"\033[0;33mWARN: DM_FILE_DONE donwlink\012\000"
  32      33336D57 
  32      41524E3A 
  32      20444D5F 
  32      46494C45 
  33              	.LC22:
  34 0148 1B5B303B 		.ascii	"\033[0;31mERROR: No FileUpload ongoing\012\000"
  34      33316D45 
  34      52524F52 
  34      3A204E6F 
  34      2046696C 
  35              	.LC25:
  36 016d 1B5B303B 		.ascii	"\033[0;31mERROR: DM_FILE_DONE bad session_counter o"
  36      33316D45 
  36      52524F52 
  36      3A20444D 
  36      5F46494C 
  37 019d 72206261 		.ascii	"r bad message\012\000"
  37      64206D65 
  37      73736167 
  37      650A00
  38              	.LC27:
  39 01ac 1B5B303B 		.ascii	"\033[0;32mINFO: File upload DONE with server confir"
  39      33326D49 
  39      4E464F3A 
  39      2046696C 
  39      65207570 
  40 01dc 6D617469 		.ascii	"mation \012\000"
  40      6F6E200A 
  40      00
  41              	.LC14:
  42 01e5 0F00     		.ascii	"\017\000"
  43              	.LC29:
  44 01e7 1200     		.ascii	"\022\000"
  45              		.section	.text.dm_parse_cmd,"ax",%progbits
  46              		.align	1
  47              		.global	dm_parse_cmd
  48              		.arch armv6s-m
  49              		.syntax unified
  50              		.code	16
  51              		.thumb_func
  52              		.fpu softvfp
  54              	dm_parse_cmd:
  55              		@ args = 0, pretend = 0, frame = 16
  56              		@ frame_needed = 1, uses_anonymous_args = 0
  57 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  58 0002 8278     		ldrb	r2, [r0, #2]
  59 0004 85B0     		sub	sp, sp, #20
  60 0006 0600     		movs	r6, r0
  61 0008 017A     		ldrb	r1, [r0, #8]
  62 000a C34D     		ldr	r5, .L81
  63 000c 00AF     		add	r7, sp, #0
  64 000e 0D2A     		cmp	r2, #13
  65 0010 08D9     		bls	.L2
ARM GAS  /tmp/ccvYfsV2.s 			page 3


  66 0012 1100     		movs	r1, r2
  67 0014 C148     		ldr	r0, .L81+4
  68 0016 FFF7FEFF 		bl	smtc_modem_hal_print_trace
  69              	.L74:
  70 001a 2800     		movs	r0, r5
  71 001c FFF7FEFF 		bl	smtc_modem_hal_print_trace
  72              	.L47:
  73 0020 0024     		movs	r4, #0
  74 0022 4CE0     		b	.L3
  75              	.L2:
  76 0024 BE4B     		ldr	r3, .L81+8
  77 0026 5000     		lsls	r0, r2, #1
  78 0028 C45C     		ldrb	r4, [r0, r3]
  79 002a 8C42     		cmp	r4, r1
  80 002c 03D9     		bls	.L4
  81 002e BD48     		ldr	r0, .L81+12
  82              	.L75:
  83 0030 FFF7FEFF 		bl	smtc_modem_hal_print_trace
  84 0034 F1E7     		b	.L74
  85              	.L4:
  86 0036 1B18     		adds	r3, r3, r0
  87 0038 5B78     		ldrb	r3, [r3, #1]
  88 003a BB48     		ldr	r0, .L81+16
  89 003c 8B42     		cmp	r3, r1
  90 003e F7D3     		bcc	.L75
  91 0040 BA4B     		ldr	r3, .L81+20
  92 0042 9100     		lsls	r1, r2, #2
  93 0044 C958     		ldr	r1, [r1, r3]
  94 0046 BA48     		ldr	r0, .L81+24
  95 0048 FFF7FEFF 		bl	smtc_modem_hal_print_trace
  96 004c 2800     		movs	r0, r5
  97 004e FFF7FEFF 		bl	smtc_modem_hal_print_trace
  98 0052 B478     		ldrb	r4, [r6, #2]
  99 0054 0D2C     		cmp	r4, #13
 100 0056 E3D8     		bhi	.L47
 101 0058 2000     		movs	r0, r4
 102 005a FFF7FEFF 		bl	__gnu_thumb1_case_shi
 103              	.L8:
 104 005e 0E00     		.2byte	(.L19-.L8)/2
 105 0060 3000     		.2byte	(.L3-.L8)/2
 106 0062 4500     		.2byte	(.L18-.L8)/2
 107 0064 7300     		.2byte	(.L17-.L8)/2
 108 0066 7F00     		.2byte	(.L16-.L8)/2
 109 0068 8C00     		.2byte	(.L15-.L8)/2
 110 006a A900     		.2byte	(.L14-.L8)/2
 111 006c B800     		.2byte	(.L13-.L8)/2
 112 006e BE00     		.2byte	(.L12-.L8)/2
 113 0070 C400     		.2byte	(.L11-.L8)/2
 114 0072 2E01     		.2byte	(.L10-.L8)/2
 115 0074 E1FF     		.2byte	(.L47-.L8)/2
 116 0076 8501     		.2byte	(.L9-.L8)/2
 117 0078 5201     		.2byte	(.L7-.L8)/2
 118              		.p2align 1
 119              	.L19:
 120 007a 7368     		ldr	r3, [r6, #4]
 121 007c 1A78     		ldrb	r2, [r3]
 122 007e 9E78     		ldrb	r6, [r3, #2]
ARM GAS  /tmp/ccvYfsV2.s 			page 4


 123 0080 7A60     		str	r2, [r7, #4]
 124 0082 5A78     		ldrb	r2, [r3, #1]
 125 0084 3602     		lsls	r6, r6, #8
 126 0086 1643     		orrs	r6, r2
 127 0088 FFF7FEFF 		bl	lorawan_api_nb_reset_get
 128 008c 8642     		cmp	r6, r0
 129 008e 1AD1     		bne	.L20
 130 0090 7B68     		ldr	r3, [r7, #4]
 131 0092 013B     		subs	r3, r3, #1
 132 0094 022B     		cmp	r3, #2
 133 0096 05D8     		bhi	.L21
 134 0098 FFF7FEFF 		bl	lorawan_api_context_save
 135 009c FFF7FEFF 		bl	smtc_modem_hal_reset_mcu
 136              	.L72:
 137 00a0 0124     		movs	r4, #1
 138 00a2 0CE0     		b	.L3
 139              	.L21:
 140 00a4 7968     		ldr	r1, [r7, #4]
 141 00a6 A348     		ldr	r0, .L81+28
 142 00a8 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 143              	.L66:
 144 00ac 2800     		movs	r0, r5
 145 00ae FFF7FEFF 		bl	smtc_modem_hal_print_trace
 146 00b2 A148     		ldr	r0, .L81+32
 147 00b4 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 148 00b8 2800     		movs	r0, r5
 149 00ba FFF7FEFF 		bl	smtc_modem_hal_print_trace
 150              	.L3:
 151 00be 2000     		movs	r0, r4
 152 00c0 BD46     		mov	sp, r7
 153 00c2 05B0     		add	sp, sp, #20
 154              		@ sp needed
 155 00c4 F0BD     		pop	{r4, r5, r6, r7, pc}
 156              	.L20:
 157 00c6 9D4B     		ldr	r3, .L81+36
 158 00c8 0122     		movs	r2, #1
 159 00ca 1B78     		ldrb	r3, [r3]
 160 00cc 1100     		movs	r1, r2
 161 00ce 3B73     		strb	r3, [r7, #12]
 162 00d0 0C23     		movs	r3, #12
 163 00d2 F818     		adds	r0, r7, r3
 164 00d4 FFF7FEFF 		bl	set_dm_info
 165 00d8 0128     		cmp	r0, #1
 166 00da 01D1     		bne	.L23
 167 00dc FFF7FEFF 		bl	modem_supervisor_add_task_dm_status_now
 168              	.L23:
 169 00e0 9748     		ldr	r0, .L81+40
 170 00e2 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 171 00e6 E1E7     		b	.L66
 172              	.L18:
 173 00e8 9648     		ldr	r0, .L81+44
 174 00ea FFF7FEFF 		bl	smtc_modem_hal_print_trace
 175 00ee 2800     		movs	r0, r5
 176 00f0 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 177 00f4 FFF7FEFF 		bl	modem_get_upload_state
 178 00f8 0228     		cmp	r0, #2
 179 00fa 06D0     		beq	.L24
ARM GAS  /tmp/ccvYfsV2.s 			page 5


 180 00fc 9248     		ldr	r0, .L81+48
 181              	.L70:
 182 00fe FFF7FEFF 		bl	smtc_modem_hal_print_trace
 183 0102 2800     		movs	r0, r5
 184 0104 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 185 0108 CAE7     		b	.L72
 186              	.L24:
 187 010a 327A     		ldrb	r2, [r6, #8]
 188 010c 7168     		ldr	r1, [r6, #4]
 189 010e 8F48     		ldr	r0, .L81+52
 190 0110 FFF7FEFF 		bl	file_upload_process_file_done_frame
 191 0114 041E     		subs	r4, r0, #0
 192 0116 01D0     		beq	.L25
 193 0118 8D48     		ldr	r0, .L81+56
 194 011a F0E7     		b	.L70
 195              	.L25:
 196 011c 8D48     		ldr	r0, .L81+60
 197 011e FFF7FEFF 		bl	smtc_modem_hal_print_trace
 198 0122 2800     		movs	r0, r5
 199 0124 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 200 0128 0121     		movs	r1, #1
 201 012a 0520     		movs	r0, #5
 202 012c FFF7FEFF 		bl	increment_asynchronous_msgnumber
 203 0130 2000     		movs	r0, r4
 204 0132 FFF7FEFF 		bl	set_modem_status_file_upload
 205 0136 0320     		movs	r0, #3
 206 0138 FFF7FEFF 		bl	modem_set_upload_state
 207 013c 0420     		movs	r0, #4
 208 013e FFF7FEFF 		bl	modem_supervisor_remove_task
 209 0142 ADE7     		b	.L72
 210              	.L17:
 211 0144 0122     		movs	r2, #1
 212 0146 317A     		ldrb	r1, [r6, #8]
 213 0148 7068     		ldr	r0, [r6, #4]
 214 014a FFF7FEFF 		bl	set_dm_info
 215 014e 0400     		movs	r4, r0
 216 0150 0128     		cmp	r0, #1
 217 0152 00D0     		beq	.LCB190
 218 0154 64E7     		b	.L47	@long jump
 219              	.LCB190:
 220 0156 FFF7FEFF 		bl	modem_supervisor_add_task_dm_status_now
 221 015a B0E7     		b	.L3
 222              	.L16:
 223 015c 327A     		ldrb	r2, [r6, #8]
 224 015e 7368     		ldr	r3, [r6, #4]
 225 0160 013A     		subs	r2, r2, #1
 226 0162 1878     		ldrb	r0, [r3]
 227 0164 D2B2     		uxtb	r2, r2
 228 0166 591C     		adds	r1, r3, #1
 229 0168 FFF7FEFF 		bl	dm_set_conf
 230              	.L73:
 231 016c 0138     		subs	r0, r0, #1
 232              	.L71:
 233 016e 4342     		rsbs	r3, r0, #0
 234 0170 5841     		adcs	r0, r0, r3
 235 0172 C4B2     		uxtb	r4, r0
 236 0174 A3E7     		b	.L3
ARM GAS  /tmp/ccvYfsV2.s 			page 6


 237              	.L15:
 238 0176 7368     		ldr	r3, [r6, #4]
 239 0178 5C78     		ldrb	r4, [r3, #1]
 240 017a 1A78     		ldrb	r2, [r3]
 241 017c 2402     		lsls	r4, r4, #8
 242 017e 1443     		orrs	r4, r2
 243 0180 FFF7FEFF 		bl	lorawan_api_devnonce_get
 244 0184 8442     		cmp	r4, r0
 245 0186 0ED0     		beq	.L26
 246 0188 734B     		ldr	r3, .L81+64
 247 018a 0122     		movs	r2, #1
 248 018c 1B78     		ldrb	r3, [r3]
 249 018e 1100     		movs	r1, r2
 250 0190 3B73     		strb	r3, [r7, #12]
 251 0192 0C23     		movs	r3, #12
 252 0194 F818     		adds	r0, r7, r3
 253 0196 FFF7FEFF 		bl	set_dm_info
 254 019a 0128     		cmp	r0, #1
 255 019c 00D0     		beq	.LCB237
 256 019e 3FE7     		b	.L47	@long jump
 257              	.LCB237:
 258 01a0 FFF7FEFF 		bl	modem_supervisor_add_task_dm_status_now
 259 01a4 3CE7     		b	.L47
 260              	.L26:
 261 01a6 FFF7FEFF 		bl	modem_leave
 262 01aa FFF7FEFF 		bl	modem_supervisor_add_task_join
 263 01ae 77E7     		b	.L72
 264              	.L14:
 265 01b0 7368     		ldr	r3, [r6, #4]
 266 01b2 1878     		ldrb	r0, [r3]
 267 01b4 FFF7FEFF 		bl	dm_set_number_of_days_mute
 268 01b8 FFF7FEFF 		bl	get_modem_muted
 269 01bc 0128     		cmp	r0, #1
 270 01be 01D1     		bne	.L28
 271 01c0 FFF7FEFF 		bl	modem_supervisor_add_task_modem_mute
 272              	.L28:
 273 01c4 0021     		movs	r1, #0
 274 01c6 0720     		movs	r0, #7
 275 01c8 FFF7FEFF 		bl	increment_asynchronous_msgnumber
 276 01cc 68E7     		b	.L72
 277              	.L13:
 278 01ce 0022     		movs	r2, #0
 279 01d0 317A     		ldrb	r1, [r6, #8]
 280 01d2 7068     		ldr	r0, [r6, #4]
 281 01d4 FFF7FEFF 		bl	set_dm_info
 282 01d8 C8E7     		b	.L73
 283              	.L12:
 284 01da 327A     		ldrb	r2, [r6, #8]
 285 01dc 7168     		ldr	r1, [r6, #4]
 286 01de 5F48     		ldr	r0, .L81+68
 287 01e0 FFF7FEFF 		bl	stream_process_dn_frame
 288 01e4 C3E7     		b	.L71
 289              	.L11:
 290 01e6 5E4C     		ldr	r4, .L81+72
 291 01e8 7168     		ldr	r1, [r6, #4]
 292 01ea 2000     		movs	r0, r4
 293 01ec 327A     		ldrb	r2, [r6, #8]
ARM GAS  /tmp/ccvYfsV2.s 			page 7


 294 01ee FFF7FEFF 		bl	alc_sync_parser
 295 01f2 0121     		movs	r1, #1
 296 01f4 0500     		movs	r5, r0
 297 01f6 8307     		lsls	r3, r0, #30
 298 01f8 27D5     		bpl	.L30
 299 01fa 0D20     		movs	r0, #13
 300 01fc 2934     		adds	r4, r4, #41
 301 01fe 2170     		strb	r1, [r4]
 302 0200 FFF7FEFF 		bl	increment_asynchronous_msgnumber
 303 0204 FFF7FEFF 		bl	modem_supervisor_remove_task_clock_sync
 304 0208 564C     		ldr	r4, .L81+76
 305 020a 2000     		movs	r0, r4
 306 020c FFF7FEFF 		bl	clock_sync_is_enabled
 307 0210 0028     		cmp	r0, #0
 308 0212 1AD0     		beq	.L30
 309 0214 2000     		movs	r0, r4
 310 0216 FFF7FEFF 		bl	clock_sync_get_interval_second
 311 021a 0600     		movs	r6, r0
 312 021c 2000     		movs	r0, r4
 313 021e FFF7FEFF 		bl	clock_sync_get_time_left_connection_lost
 314 0222 8642     		cmp	r6, r0
 315 0224 41D2     		bcs	.L32
 316 0226 2000     		movs	r0, r4
 317 0228 FFF7FEFF 		bl	clock_sync_get_interval_second
 318              	.L67:
 319 022c 1E26     		movs	r6, #30
 320 022e 0400     		movs	r4, r0
 321 0230 7642     		rsbs	r6, r6, #0
 322              	.L35:
 323 0232 1E21     		movs	r1, #30
 324 0234 3000     		movs	r0, r6
 325 0236 FFF7FEFF 		bl	smtc_modem_hal_get_signed_random_nb_in_range
 326 023a 0028     		cmp	r0, #0
 327 023c 02DA     		bge	.L34
 328 023e 4342     		rsbs	r3, r0, #0
 329 0240 A342     		cmp	r3, r4
 330 0242 F6D8     		bhi	.L35
 331              	.L34:
 332 0244 0019     		adds	r0, r0, r4
 333 0246 FFF7FEFF 		bl	modem_supervisor_add_task_clock_sync_time_req
 334              	.L30:
 335 024a 0223     		movs	r3, #2
 336 024c 2A00     		movs	r2, r5
 337 024e 9A43     		bics	r2, r3
 338 0250 013B     		subs	r3, r3, #1
 339 0252 1C00     		movs	r4, r3
 340 0254 002A     		cmp	r2, #0
 341 0256 00D1     		bne	.LCB341
 342 0258 31E7     		b	.L3	@long jump
 343              	.LCB341:
 344 025a AD08     		lsrs	r5, r5, #2
 345 025c 1D42     		tst	r5, r3
 346 025e 20D0     		beq	.L37
 347 0260 404C     		ldr	r4, .L81+76
 348 0262 2000     		movs	r0, r4
 349 0264 FFF7FEFF 		bl	clock_sync_is_enabled
 350 0268 0028     		cmp	r0, #0
ARM GAS  /tmp/ccvYfsV2.s 			page 8


 351 026a 1AD0     		beq	.L37
 352 026c 2000     		movs	r0, r4
 353 026e FFF7FEFF 		bl	clock_sync_get_interval_second
 354 0272 0500     		movs	r5, r0
 355 0274 2000     		movs	r0, r4
 356 0276 FFF7FEFF 		bl	clock_sync_get_time_left_connection_lost
 357 027a 8542     		cmp	r5, r0
 358 027c 19D2     		bcs	.L39
 359 027e 2000     		movs	r0, r4
 360 0280 FFF7FEFF 		bl	clock_sync_get_interval_second
 361              	.L68:
 362 0284 1E25     		movs	r5, #30
 363 0286 0400     		movs	r4, r0
 364 0288 6D42     		rsbs	r5, r5, #0
 365              	.L42:
 366 028a 1E21     		movs	r1, #30
 367 028c 2800     		movs	r0, r5
 368 028e FFF7FEFF 		bl	smtc_modem_hal_get_signed_random_nb_in_range
 369 0292 0028     		cmp	r0, #0
 370 0294 02DA     		bge	.L41
 371 0296 4342     		rsbs	r3, r0, #0
 372 0298 A342     		cmp	r3, r4
 373 029a F6D8     		bhi	.L42
 374              	.L41:
 375 029c 0019     		adds	r0, r0, r4
 376 029e FFF7FEFF 		bl	modem_supervisor_add_task_clock_sync_time_req
 377              	.L37:
 378 02a2 0120     		movs	r0, #1
 379 02a4 FFF7FEFF 		bl	modem_supervisor_add_task_alc_sync_ans
 380 02a8 FAE6     		b	.L72
 381              	.L32:
 382 02aa 2000     		movs	r0, r4
 383 02ac FFF7FEFF 		bl	clock_sync_get_time_left_connection_lost
 384 02b0 BCE7     		b	.L67
 385              	.L39:
 386 02b2 2000     		movs	r0, r4
 387 02b4 FFF7FEFF 		bl	clock_sync_get_time_left_connection_lost
 388 02b8 E4E7     		b	.L68
 389              	.L10:
 390 02ba 327A     		ldrb	r2, [r6, #8]
 391 02bc 6D46     		mov	r5, sp
 392 02be 1300     		movs	r3, r2
 393 02c0 0A33     		adds	r3, r3, #10
 394 02c2 DB08     		lsrs	r3, r3, #3
 395 02c4 DB00     		lsls	r3, r3, #3
 396 02c6 EB1A     		subs	r3, r5, r3
 397 02c8 9D46     		mov	sp, r3
 398 02ca 0A21     		movs	r1, #10
 399              	.L80:
 400 02cc 9970     		strb	r1, [r3, #2]
 401 02ce 7168     		ldr	r1, [r6, #4]
 402 02d0 D81C     		adds	r0, r3, #3
 403 02d2 FFF7FEFF 		bl	memcpy
 404 02d6 FFF7FEFF 		bl	modem_context_get_modem_radio_ctx
 405 02da 327A     		ldrb	r2, [r6, #8]
 406 02dc 6946     		mov	r1, sp
 407 02de 0332     		adds	r2, r2, #3
ARM GAS  /tmp/ccvYfsV2.s 			page 9


 408 02e0 D2B2     		uxtb	r2, r2
 409 02e2 FFF7FEFF 		bl	almanac_update_process_downlink_payload
 410 02e6 0024     		movs	r4, #0
 411 02e8 A042     		cmp	r0, r4
 412 02ea 08D1     		bne	.L45
 413 02ec 3178     		ldrb	r1, [r6]
 414 02ee A142     		cmp	r1, r4
 415 02f0 01D0     		beq	.L46
 416 02f2 0121     		movs	r1, #1
 417 02f4 3080     		strh	r0, [r6]
 418              	.L46:
 419 02f6 1120     		movs	r0, #17
 420 02f8 FFF7FEFF 		bl	increment_asynchronous_msgnumber
 421 02fc 0124     		movs	r4, #1
 422              	.L45:
 423 02fe AD46     		mov	sp, r5
 424 0300 DDE6     		b	.L3
 425              	.L7:
 426 0302 327A     		ldrb	r2, [r6, #8]
 427 0304 6D46     		mov	r5, sp
 428 0306 1300     		movs	r3, r2
 429 0308 0A33     		adds	r3, r3, #10
 430 030a DB08     		lsrs	r3, r3, #3
 431 030c DB00     		lsls	r3, r3, #3
 432 030e EB1A     		subs	r3, r5, r3
 433 0310 9D46     		mov	sp, r3
 434 0312 0D21     		movs	r1, #13
 435 0314 DAE7     		b	.L80
 436              	.L82:
 437 0316 C046     		.align	2
 438              	.L81:
 439 0318 25000000 		.word	.LC2
 440 031c 00000000 		.word	.LC0
 441 0320 00000000 		.word	.LANCHOR0
 442 0324 2A000000 		.word	.LC5
 443 0328 5D000000 		.word	.LC7
 444 032c 00000000 		.word	.LANCHOR1
 445 0330 8F000000 		.word	.LC10
 446 0334 AC000000 		.word	.LC12
 447 0338 07010000 		.word	.LC18
 448 033c E5010000 		.word	.LC14
 449 0340 DA000000 		.word	.LC16
 450 0344 24010000 		.word	.LC20
 451 0348 48010000 		.word	.LC22
 452 034c A8040000 		.word	smtc_modem_services_ctx+1192
 453 0350 6D010000 		.word	.LC25
 454 0354 AC010000 		.word	.LC27
 455 0358 E7010000 		.word	.LC29
 456 035c 54000000 		.word	smtc_modem_services_ctx+84
 457 0360 00000000 		.word	smtc_modem_services_ctx
 458 0364 2C000000 		.word	smtc_modem_services_ctx+44
 459              	.L9:
 460 0368 0E20     		movs	r0, #14
 461 036a FFF7FEFF 		bl	modem_context_suspend_radio_access
 462 036e FFF7FEFF 		bl	modem_context_get_modem_radio_ctx
 463 0372 327A     		ldrb	r2, [r6, #8]
 464 0374 7168     		ldr	r1, [r6, #4]
ARM GAS  /tmp/ccvYfsV2.s 			page 10


 465 0376 FFF7FEFF 		bl	lr11xx_gnss_push_solver_msg
 466 037a 0400     		movs	r4, r0
 467 037c 6342     		rsbs	r3, r4, #0
 468 037e 5C41     		adcs	r4, r4, r3
 469 0380 FFF7FEFF 		bl	modem_context_resume_radio_access
 470 0384 E4B2     		uxtb	r4, r4
 471 0386 9AE6     		b	.L3
 473              		.section	.rodata.dm_downlink.str1.1,"aMS",%progbits,1
 474              	.LC35:
 475 0000 1B5B303B 		.ascii	"\033[0;31mERROR: DM Downlink must contain at least "
 475      33316D45 
 475      52524F52 
 475      3A20444D 
 475      20446F77 
 476 0030 34206279 		.ascii	"4 bytes\012\000"
 476      7465730A 
 476      00
 477              		.section	.text.dm_downlink,"ax",%progbits
 478              		.align	1
 479              		.global	dm_downlink
 480              		.syntax unified
 481              		.code	16
 482              		.thumb_func
 483              		.fpu softvfp
 485              	dm_downlink:
 486              		@ args = 0, pretend = 0, frame = 16
 487              		@ frame_needed = 0, uses_anonymous_args = 0
 488 0000 30B5     		push	{r4, r5, lr}
 489 0002 85B0     		sub	sp, sp, #20
 490 0004 0329     		cmp	r1, #3
 491 0006 09D8     		bhi	.L84
 492 0008 1148     		ldr	r0, .L89
 493 000a FFF7FEFF 		bl	smtc_modem_hal_print_trace
 494 000e 1148     		ldr	r0, .L89+4
 495 0010 FFF7FEFF 		bl	smtc_modem_hal_print_trace
 496 0014 0025     		movs	r5, #0
 497              	.L85:
 498 0016 2800     		movs	r0, r5
 499 0018 05B0     		add	sp, sp, #20
 500              		@ sp needed
 501 001a 30BD     		pop	{r4, r5, pc}
 502              	.L84:
 503 001c 0378     		ldrb	r3, [r0]
 504 001e 01AC     		add	r4, sp, #4
 505 0020 2370     		strb	r3, [r4]
 506 0022 4378     		ldrb	r3, [r0, #1]
 507 0024 0339     		subs	r1, r1, #3
 508 0026 6370     		strb	r3, [r4, #1]
 509 0028 8378     		ldrb	r3, [r0, #2]
 510 002a 0330     		adds	r0, r0, #3
 511 002c 0290     		str	r0, [sp, #8]
 512 002e 2000     		movs	r0, r4
 513 0030 A370     		strb	r3, [r4, #2]
 514 0032 2172     		strb	r1, [r4, #8]
 515 0034 FFF7FEFF 		bl	dm_parse_cmd
 516 0038 6178     		ldrb	r1, [r4, #1]
 517 003a 0500     		movs	r5, r0
ARM GAS  /tmp/ccvYfsV2.s 			page 11


 518 003c 2078     		ldrb	r0, [r4]
 519 003e FFF7FEFF 		bl	set_dm_retrieve_pending_dl
 520 0042 2378     		ldrb	r3, [r4]
 521 0044 002B     		cmp	r3, #0
 522 0046 E6D0     		beq	.L85
 523 0048 6078     		ldrb	r0, [r4, #1]
 524 004a FFF7FEFF 		bl	modem_supervisor_add_task_retrieve_dl
 525 004e E2E7     		b	.L85
 526              	.L90:
 527              		.align	2
 528              	.L89:
 529 0050 00000000 		.word	.LC35
 530 0054 25000000 		.word	.LC2
 532              		.section	.rodata.str1.1,"aMS",%progbits,1
 533              	.LC38:
 534 0000 52455345 		.ascii	"RESET\000"
 534      5400
 535              	.LC39:
 536 0006 46554F54 		.ascii	"FUOTA\000"
 536      4100
 537              	.LC40:
 538 000c 46494C45 		.ascii	"FILE_DONE\000"
 538      5F444F4E 
 538      4500
 539              	.LC41:
 540 0016 4745545F 		.ascii	"GET_INFO\000"
 540      494E464F 
 540      00
 541              	.LC42:
 542 001f 5345545F 		.ascii	"SET_CONF\000"
 542      434F4E46 
 542      00
 543              	.LC43:
 544 0028 52454A4F 		.ascii	"REJOIN\000"
 544      494E00
 545              	.LC44:
 546 002f 4D555445 		.ascii	"MUTE\000"
 546      00
 547              	.LC45:
 548 0034 5345545F 		.ascii	"SET_DM_INFO\000"
 548      444D5F49 
 548      4E464F00 
 549              	.LC46:
 550 0040 53545245 		.ascii	"STREAM\000"
 550      414D00
 551              	.LC47:
 552 0047 414C435F 		.ascii	"ALC_SYNC\000"
 552      53594E43 
 552      00
 553              	.LC48:
 554 0050 414C4D5F 		.ascii	"ALM_UPDATE\000"
 554      55504441 
 554      544500
 555              	.LC49:
 556 005b 414C4D5F 		.ascii	"ALM_DEBUG\000"
 556      44454255 
 556      4700
ARM GAS  /tmp/ccvYfsV2.s 			page 12


 557              	.LC50:
 558 0065 534F4C56 		.ascii	"SOLVER_UPDATE\000"
 558      45525F55 
 558      50444154 
 558      4500
 559              	.LC51:
 560 0073 414C4D5F 		.ascii	"ALM_FUPDATE\000"
 560      46555044 
 560      41544500 
 561              		.section	.rodata.dm_cmd_len,"a"
 562              		.align	2
 563              		.set	.LANCHOR0,. + 0
 566              	dm_cmd_len:
 567 0000 0303     		.ascii	"\003\003"
 568 0002 01FF     		.ascii	"\001\377"
 569 0004 0101     		.ascii	"\001\001"
 570 0006 01FF     		.ascii	"\001\377"
 571 0008 02FF     		.ascii	"\002\377"
 572 000a 0202     		.ascii	"\002\002"
 573 000c 0101     		.ascii	"\001\001"
 574 000e 011C     		.ascii	"\001\034"
 575 0010 01FF     		.ascii	"\001\377"
 576 0012 01FF     		.ascii	"\001\377"
 577 0014 01FF     		.ascii	"\001\377"
 578 0016 01FF     		.ascii	"\001\377"
 579 0018 01FF     		.ascii	"\001\377"
 580 001a 01FF     		.ascii	"\001\377"
 581              		.section	.rodata.dm_cmd_str,"a"
 582              		.align	2
 583              		.set	.LANCHOR1,. + 0
 586              	dm_cmd_str:
 587 0000 00000000 		.word	.LC38
 588 0004 06000000 		.word	.LC39
 589 0008 0C000000 		.word	.LC40
 590 000c 16000000 		.word	.LC41
 591 0010 1F000000 		.word	.LC42
 592 0014 28000000 		.word	.LC43
 593 0018 2F000000 		.word	.LC44
 594 001c 34000000 		.word	.LC45
 595 0020 40000000 		.word	.LC46
 596 0024 47000000 		.word	.LC47
 597 0028 50000000 		.word	.LC48
 598 002c 5B000000 		.word	.LC49
 599 0030 65000000 		.word	.LC50
 600 0034 73000000 		.word	.LC51
 601              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccvYfsV2.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 dm_downlink.c
     /tmp/ccvYfsV2.s:46     .text.dm_parse_cmd:0000000000000000 $t
     /tmp/ccvYfsV2.s:54     .text.dm_parse_cmd:0000000000000000 dm_parse_cmd
     /tmp/ccvYfsV2.s:104    .text.dm_parse_cmd:000000000000005e $d
     /tmp/ccvYfsV2.s:118    .text.dm_parse_cmd:000000000000007a $t
     /tmp/ccvYfsV2.s:439    .text.dm_parse_cmd:0000000000000318 $d
     /tmp/ccvYfsV2.s:460    .text.dm_parse_cmd:0000000000000368 $t
     /tmp/ccvYfsV2.s:478    .text.dm_downlink:0000000000000000 $t
     /tmp/ccvYfsV2.s:485    .text.dm_downlink:0000000000000000 dm_downlink
     /tmp/ccvYfsV2.s:529    .text.dm_downlink:0000000000000050 $d
     /tmp/ccvYfsV2.s:562    .rodata.dm_cmd_len:0000000000000000 $d
     /tmp/ccvYfsV2.s:566    .rodata.dm_cmd_len:0000000000000000 dm_cmd_len
     /tmp/ccvYfsV2.s:582    .rodata.dm_cmd_str:0000000000000000 $d
     /tmp/ccvYfsV2.s:586    .rodata.dm_cmd_str:0000000000000000 dm_cmd_str

UNDEFINED SYMBOLS
smtc_modem_hal_print_trace
__gnu_thumb1_case_shi
lorawan_api_nb_reset_get
lorawan_api_context_save
smtc_modem_hal_reset_mcu
set_dm_info
modem_supervisor_add_task_dm_status_now
modem_get_upload_state
file_upload_process_file_done_frame
increment_asynchronous_msgnumber
set_modem_status_file_upload
modem_set_upload_state
modem_supervisor_remove_task
dm_set_conf
lorawan_api_devnonce_get
modem_leave
modem_supervisor_add_task_join
dm_set_number_of_days_mute
get_modem_muted
modem_supervisor_add_task_modem_mute
stream_process_dn_frame
alc_sync_parser
modem_supervisor_remove_task_clock_sync
clock_sync_is_enabled
clock_sync_get_interval_second
clock_sync_get_time_left_connection_lost
smtc_modem_hal_get_signed_random_nb_in_range
modem_supervisor_add_task_clock_sync_time_req
modem_supervisor_add_task_alc_sync_ans
memcpy
modem_context_get_modem_radio_ctx
almanac_update_process_downlink_payload
smtc_modem_services_ctx
modem_context_suspend_radio_access
lr11xx_gnss_push_solver_msg
modem_context_resume_radio_access
set_dm_retrieve_pending_dl
modem_supervisor_add_task_retrieve_dl
