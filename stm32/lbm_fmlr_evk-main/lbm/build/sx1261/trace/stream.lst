ARM GAS  /tmp/ccxI14m3.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"stream.c"
  10              		.text
  11              		.section	.text.stream_init,"ax",%progbits
  12              		.align	1
  13              		.global	stream_init
  14              		.arch armv6s-m
  15              		.syntax unified
  16              		.code	16
  17              		.thumb_func
  18              		.fpu softvfp
  20              	stream_init:
  21              		@ args = 0, pretend = 0, frame = 0
  22              		@ frame_needed = 0, uses_anonymous_args = 0
  23 0000 07B5     		push	{r0, r1, r2, lr}
  24 0002 8022     		movs	r2, #128
  25              		@ sp needed
  26 0004 0123     		movs	r3, #1
  27 0006 9200     		lsls	r2, r2, #2
  28 0008 0093     		str	r3, [sp]
  29 000a 1100     		movs	r1, r2
  30 000c 6D33     		adds	r3, r3, #109
  31 000e FFF7FEFF 		bl	ROSE_init
  32 0012 431E     		subs	r3, r0, #1
  33 0014 9841     		sbcs	r0, r0, r3
  34 0016 8000     		lsls	r0, r0, #2
  35 0018 0EBD     		pop	{r1, r2, r3, pc}
  37              		.section	.text.stream_enable_encryption,"ax",%progbits
  38              		.align	1
  39              		.global	stream_enable_encryption
  40              		.syntax unified
  41              		.code	16
  42              		.thumb_func
  43              		.fpu softvfp
  45              	stream_enable_encryption:
  46              		@ args = 0, pretend = 0, frame = 0
  47              		@ frame_needed = 0, uses_anonymous_args = 0
  48 0000 10B5     		push	{r4, lr}
  49 0002 FFF7FEFF 		bl	ROSE_enable_encryption
  50 0006 0023     		movs	r3, #0
  51 0008 9842     		cmp	r0, r3
  52 000a 00D0     		beq	.L5
  53 000c 0333     		adds	r3, r3, #3
  54              	.L5:
  55 000e 1800     		movs	r0, r3
  56              		@ sp needed
  57 0010 10BD     		pop	{r4, pc}
  59              		.section	.text.stream_data_pending,"ax",%progbits
  60              		.align	1
  61              		.global	stream_data_pending
ARM GAS  /tmp/ccxI14m3.s 			page 2


  62              		.syntax unified
  63              		.code	16
  64              		.thumb_func
  65              		.fpu softvfp
  67              	stream_data_pending:
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70 0000 10B5     		push	{r4, lr}
  71 0002 FFF7FEFF 		bl	ROSE_getStatus
  72              		@ sp needed
  73 0006 0238     		subs	r0, r0, #2
  74 0008 4342     		rsbs	r3, r0, #0
  75 000a 5841     		adcs	r0, r0, r3
  76 000c C0B2     		uxtb	r0, r0
  77 000e 10BD     		pop	{r4, pc}
  79              		.section	.text.stream_add_data,"ax",%progbits
  80              		.align	1
  81              		.global	stream_add_data
  82              		.syntax unified
  83              		.code	16
  84              		.thumb_func
  85              		.fpu softvfp
  87              	stream_add_data:
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90 0000 10B5     		push	{r4, lr}
  91 0002 0029     		cmp	r1, #0
  92 0004 0FD0     		beq	.L10
  93 0006 002A     		cmp	r2, #0
  94 0008 01D1     		bne	.L11
  95              	.L13:
  96 000a 0120     		movs	r0, #1
  97              	.L12:
  98              		@ sp needed
  99 000c 10BD     		pop	{r4, pc}
 100              	.L11:
 101 000e 92B2     		uxth	r2, r2
 102 0010 FFF7FEFF 		bl	ROSE_addRecord
 103 0014 0300     		movs	r3, r0
 104 0016 421D     		adds	r2, r0, #5
 105 0018 F7D0     		beq	.L13
 106 001a 0320     		movs	r0, #3
 107 001c 5A1C     		adds	r2, r3, #1
 108 001e F5D0     		beq	.L12
 109 0020 0020     		movs	r0, #0
 110 0022 8342     		cmp	r3, r0
 111 0024 F2D0     		beq	.L12
 112              	.L10:
 113 0026 0420     		movs	r0, #4
 114 0028 F0E7     		b	.L12
 116              		.section	.text.stream_get_fragment,"ax",%progbits
 117              		.align	1
 118              		.global	stream_get_fragment
 119              		.syntax unified
 120              		.code	16
 121              		.thumb_func
 122              		.fpu softvfp
ARM GAS  /tmp/ccxI14m3.s 			page 3


 124              	stream_get_fragment:
 125              		@ args = 0, pretend = 0, frame = 8
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 128 0002 0D00     		movs	r5, r1
 129 0004 1700     		movs	r7, r2
 130 0006 1E00     		movs	r6, r3
 131 0008 0424     		movs	r4, #4
 132 000a 0190     		str	r0, [sp, #4]
 133 000c 0029     		cmp	r1, #0
 134 000e 15D0     		beq	.L24
 135 0010 002B     		cmp	r3, #0
 136 0012 13D0     		beq	.L24
 137 0014 1A78     		ldrb	r2, [r3]
 138 0016 033C     		subs	r4, r4, #3
 139 0018 002A     		cmp	r2, #0
 140 001a 0FD0     		beq	.L24
 141 001c FF21     		movs	r1, #255
 142 001e 2800     		movs	r0, r5
 143 0020 FFF7FEFF 		bl	memset
 144 0024 3300     		movs	r3, r6
 145 0026 2A00     		movs	r2, r5
 146 0028 3900     		movs	r1, r7
 147 002a 0198     		ldr	r0, [sp, #4]
 148 002c FFF7FEFF 		bl	ROSE_getData
 149 0030 C31C     		adds	r3, r0, #3
 150 0032 03D0     		beq	.L24
 151 0034 0024     		movs	r4, #0
 152 0036 431C     		adds	r3, r0, #1
 153 0038 00D1     		bne	.L24
 154 003a 0534     		adds	r4, r4, #5
 155              	.L24:
 156 003c 2000     		movs	r0, r4
 157              		@ sp needed
 158 003e FEBD     		pop	{r1, r2, r3, r4, r5, r6, r7, pc}
 160              		.section	.text.stream_status,"ax",%progbits
 161              		.align	1
 162              		.global	stream_status
 163              		.syntax unified
 164              		.code	16
 165              		.thumb_func
 166              		.fpu softvfp
 168              	stream_status:
 169              		@ args = 0, pretend = 0, frame = 0
 170              		@ frame_needed = 0, uses_anonymous_args = 0
 171 0000 70B5     		push	{r4, r5, r6, lr}
 172 0002 0500     		movs	r5, r0
 173 0004 0E00     		movs	r6, r1
 174 0006 1400     		movs	r4, r2
 175 0008 0029     		cmp	r1, #0
 176 000a 02D0     		beq	.L32
 177 000c FFF7FEFF 		bl	ROSE_getPending
 178 0010 3080     		strh	r0, [r6]
 179              	.L32:
 180 0012 002C     		cmp	r4, #0
 181 0014 03D0     		beq	.L31
 182 0016 2800     		movs	r0, r5
ARM GAS  /tmp/ccxI14m3.s 			page 4


 183 0018 FFF7FEFF 		bl	ROSE_getFree
 184 001c 2080     		strh	r0, [r4]
 185              	.L31:
 186              		@ sp needed
 187 001e 70BD     		pop	{r4, r5, r6, pc}
 189              		.section	.text.stream_process_dn_frame,"ax",%progbits
 190              		.align	1
 191              		.global	stream_process_dn_frame
 192              		.syntax unified
 193              		.code	16
 194              		.thumb_func
 195              		.fpu softvfp
 197              	stream_process_dn_frame:
 198              		@ args = 0, pretend = 0, frame = 0
 199              		@ frame_needed = 0, uses_anonymous_args = 0
 200 0000 0423     		movs	r3, #4
 201 0002 10B5     		push	{r4, lr}
 202 0004 0029     		cmp	r1, #0
 203 0006 05D0     		beq	.L41
 204 0008 FFF7FEFF 		bl	ROSE_processDnFrame
 205 000c 0023     		movs	r3, #0
 206 000e 821D     		adds	r2, r0, #6
 207 0010 00D1     		bne	.L41
 208 0012 0633     		adds	r3, r3, #6
 209              	.L41:
 210 0014 1800     		movs	r0, r3
 211              		@ sp needed
 212 0016 10BD     		pop	{r4, pc}
 214              		.section	.text.stream_get_rr,"ax",%progbits
 215              		.align	1
 216              		.global	stream_get_rr
 217              		.syntax unified
 218              		.code	16
 219              		.thumb_func
 220              		.fpu softvfp
 222              	stream_get_rr:
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              		@ link register save eliminated.
 226 0000 C078     		ldrb	r0, [r0, #3]
 227              		@ sp needed
 228 0002 7047     		bx	lr
 230              		.section	.text.stream_set_rr,"ax",%progbits
 231              		.align	1
 232              		.global	stream_set_rr
 233              		.syntax unified
 234              		.code	16
 235              		.thumb_func
 236              		.fpu softvfp
 238              	stream_set_rr:
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241              		@ link register save eliminated.
 242 0000 C170     		strb	r1, [r0, #3]
 243              		@ sp needed
 244 0002 7047     		bx	lr
 246              		.section	.text.stream_reset,"ax",%progbits
ARM GAS  /tmp/ccxI14m3.s 			page 5


 247              		.align	1
 248              		.global	stream_reset
 249              		.syntax unified
 250              		.code	16
 251              		.thumb_func
 252              		.fpu softvfp
 254              	stream_reset:
 255              		@ args = 0, pretend = 0, frame = 0
 256              		@ frame_needed = 0, uses_anonymous_args = 0
 257 0000 10B5     		push	{r4, lr}
 258 0002 0021     		movs	r1, #0
 259              		@ sp needed
 260 0004 024A     		ldr	r2, .L47
 261 0006 FFF7FEFF 		bl	memset
 262 000a 0020     		movs	r0, #0
 263 000c 10BD     		pop	{r4, pc}
 264              	.L48:
 265 000e C046     		.align	2
 266              	.L47:
 267 0010 54040000 		.word	1108
 269              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccxI14m3.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stream.c
     /tmp/ccxI14m3.s:12     .text.stream_init:0000000000000000 $t
     /tmp/ccxI14m3.s:20     .text.stream_init:0000000000000000 stream_init
     /tmp/ccxI14m3.s:38     .text.stream_enable_encryption:0000000000000000 $t
     /tmp/ccxI14m3.s:45     .text.stream_enable_encryption:0000000000000000 stream_enable_encryption
     /tmp/ccxI14m3.s:60     .text.stream_data_pending:0000000000000000 $t
     /tmp/ccxI14m3.s:67     .text.stream_data_pending:0000000000000000 stream_data_pending
     /tmp/ccxI14m3.s:80     .text.stream_add_data:0000000000000000 $t
     /tmp/ccxI14m3.s:87     .text.stream_add_data:0000000000000000 stream_add_data
     /tmp/ccxI14m3.s:117    .text.stream_get_fragment:0000000000000000 $t
     /tmp/ccxI14m3.s:124    .text.stream_get_fragment:0000000000000000 stream_get_fragment
     /tmp/ccxI14m3.s:161    .text.stream_status:0000000000000000 $t
     /tmp/ccxI14m3.s:168    .text.stream_status:0000000000000000 stream_status
     /tmp/ccxI14m3.s:190    .text.stream_process_dn_frame:0000000000000000 $t
     /tmp/ccxI14m3.s:197    .text.stream_process_dn_frame:0000000000000000 stream_process_dn_frame
     /tmp/ccxI14m3.s:215    .text.stream_get_rr:0000000000000000 $t
     /tmp/ccxI14m3.s:222    .text.stream_get_rr:0000000000000000 stream_get_rr
     /tmp/ccxI14m3.s:231    .text.stream_set_rr:0000000000000000 $t
     /tmp/ccxI14m3.s:238    .text.stream_set_rr:0000000000000000 stream_set_rr
     /tmp/ccxI14m3.s:247    .text.stream_reset:0000000000000000 $t
     /tmp/ccxI14m3.s:254    .text.stream_reset:0000000000000000 stream_reset
     /tmp/ccxI14m3.s:267    .text.stream_reset:0000000000000010 $d

UNDEFINED SYMBOLS
ROSE_init
ROSE_enable_encryption
ROSE_getStatus
ROSE_addRecord
memset
ROSE_getData
ROSE_getPending
ROSE_getFree
ROSE_processDnFrame
