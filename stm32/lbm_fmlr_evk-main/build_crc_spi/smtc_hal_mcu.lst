ARM GAS  /tmp/ccY6g22J.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"smtc_hal_mcu.c"
  10              		.text
  11              		.global	__aeabi_idiv
  12              		.section	.text.hal_mcu_wait_us,"ax",%progbits
  13              		.align	1
  14              		.p2align 2,,3
  15              		.global	hal_mcu_wait_us
  16              		.arch armv6s-m
  17              		.syntax unified
  18              		.code	16
  19              		.thumb_func
  20              		.fpu softvfp
  22              	hal_mcu_wait_us:
  23              		@ args = 0, pretend = 0, frame = 16
  24              		@ frame_needed = 1, uses_anonymous_args = 0
  25 0000 80B5     		push	{r7, lr}
  26 0002 84B0     		sub	sp, sp, #16
  27 0004 00AF     		add	r7, sp, #0
  28 0006 7860     		str	r0, [r7, #4]
  29 0008 7A68     		ldr	r2, [r7, #4]
  30 000a 1300     		movs	r3, r2
  31 000c 5B01     		lsls	r3, r3, #5
  32 000e 9B1A     		subs	r3, r3, r2
  33 0010 9B00     		lsls	r3, r3, #2
  34 0012 9B18     		adds	r3, r3, r2
  35 0014 DB00     		lsls	r3, r3, #3
  36 0016 8921     		movs	r1, #137
  37 0018 1800     		movs	r0, r3
  38 001a FFF7FEFF 		bl	__aeabi_idiv
  39 001e 0300     		movs	r3, r0
  40 0020 BB60     		str	r3, [r7, #8]
  41 0022 0023     		movs	r3, #0
  42 0024 FB60     		str	r3, [r7, #12]
  43 0026 03E0     		b	.L2
  44              	.L3:
  45              		.syntax divided
  46              	@ 177 "bsp_l0/smtc_hal/smtc_hal_mcu.c" 1
  47 0028 C046     		nop
  48              	@ 0 "" 2
  49              		.thumb
  50              		.syntax unified
  51 002a FB68     		ldr	r3, [r7, #12]
  52 002c 0133     		adds	r3, r3, #1
  53 002e FB60     		str	r3, [r7, #12]
  54              	.L2:
  55 0030 FA68     		ldr	r2, [r7, #12]
  56 0032 BB68     		ldr	r3, [r7, #8]
  57 0034 9A42     		cmp	r2, r3
  58 0036 F7D3     		bcc	.L3
ARM GAS  /tmp/ccY6g22J.s 			page 2


  59 0038 C046     		nop
  60 003a C046     		nop
  61 003c BD46     		mov	sp, r7
  62 003e 04B0     		add	sp, sp, #16
  63              		@ sp needed
  64 0040 80BD     		pop	{r7, pc}
  66 0042 C046     		.section	.text.hal_mcu_critical_section_begin,"ax",%progbits
  67              		.align	1
  68              		.global	hal_mcu_critical_section_begin
  69              		.syntax unified
  70              		.code	16
  71              		.thumb_func
  72              		.fpu softvfp
  74              	hal_mcu_critical_section_begin:
  75              		@ args = 0, pretend = 0, frame = 0
  76              		@ frame_needed = 0, uses_anonymous_args = 0
  77              		@ link register save eliminated.
  78              		.syntax divided
  79              	@ 453 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
  80 0000 EFF31083 		MRS r3, primask
  81              	@ 0 "" 2
  82              		.thumb
  83              		.syntax unified
  84 0004 0360     		str	r3, [r0]
  85              		.syntax divided
  86              	@ 209 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
  87 0006 72B6     		cpsid i
  88              	@ 0 "" 2
  89              		.thumb
  90              		.syntax unified
  91              		@ sp needed
  92 0008 7047     		bx	lr
  94              		.section	.text.hal_mcu_critical_section_end,"ax",%progbits
  95              		.align	1
  96              		.global	hal_mcu_critical_section_end
  97              		.syntax unified
  98              		.code	16
  99              		.thumb_func
 100              		.fpu softvfp
 102              	hal_mcu_critical_section_end:
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		@ link register save eliminated.
 106 0000 0368     		ldr	r3, [r0]
 107              		.syntax divided
 108              	@ 481 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 109 0002 83F31088 		MSR primask, r3
 110              	@ 0 "" 2
 111              		.thumb
 112              		.syntax unified
 113              		@ sp needed
 114 0006 7047     		bx	lr
 116              		.section	.text.hal_mcu_disable_irq,"ax",%progbits
 117              		.align	1
 118              		.global	hal_mcu_disable_irq
 119              		.syntax unified
 120              		.code	16
ARM GAS  /tmp/ccY6g22J.s 			page 3


 121              		.thumb_func
 122              		.fpu softvfp
 124              	hal_mcu_disable_irq:
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		@ link register save eliminated.
 128              		.syntax divided
 129              	@ 209 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 130 0000 72B6     		cpsid i
 131              	@ 0 "" 2
 132              		.thumb
 133              		.syntax unified
 134              		@ sp needed
 135 0002 7047     		bx	lr
 137              		.section	.text.hal_mcu_enable_irq,"ax",%progbits
 138              		.align	1
 139              		.global	hal_mcu_enable_irq
 140              		.syntax unified
 141              		.code	16
 142              		.thumb_func
 143              		.fpu softvfp
 145              	hal_mcu_enable_irq:
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 149              		.syntax divided
 150              	@ 198 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 151 0000 62B6     		cpsie i
 152              	@ 0 "" 2
 153              		.thumb
 154              		.syntax unified
 155              		@ sp needed
 156 0002 7047     		bx	lr
 158              		.section	.text.hal_mcu_reset,"ax",%progbits
 159              		.align	1
 160              		.global	hal_mcu_reset
 161              		.syntax unified
 162              		.code	16
 163              		.thumb_func
 164              		.fpu softvfp
 166              	hal_mcu_reset:
 167              		@ Volatile: function does not return.
 168              		@ args = 0, pretend = 0, frame = 0
 169              		@ frame_needed = 0, uses_anonymous_args = 0
 170              		@ link register save eliminated.
 171              		.syntax divided
 172              	@ 209 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 173 0000 72B6     		cpsid i
 174              	@ 0 "" 2
 175              	@ 946 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 176 0002 BFF34F8F 		dsb 0xF
 177              	@ 0 "" 2
 178              		.thumb
 179              		.syntax unified
 180 0006 034B     		ldr	r3, .L10
 181 0008 034A     		ldr	r2, .L10+4
 182 000a DA60     		str	r2, [r3, #12]
ARM GAS  /tmp/ccY6g22J.s 			page 4


 183              		.syntax divided
 184              	@ 946 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 185 000c BFF34F8F 		dsb 0xF
 186              	@ 0 "" 2
 187              		.thumb
 188              		.syntax unified
 189              	.L9:
 190              		.syntax divided
 191              	@ 995 "bsp_l0/mcu_drivers/cmsis/Core/Include/core_cm0plus.h" 1
 192 0010 C046     		nop
 193              	@ 0 "" 2
 194              		.thumb
 195              		.syntax unified
 196 0012 FDE7     		b	.L9
 197              	.L11:
 198              		.align	2
 199              	.L10:
 200 0014 00ED00E0 		.word	-536810240
 201 0018 0400FA05 		.word	100270084
 203              		.section	.text.hal_mcu_init,"ax",%progbits
 204              		.align	1
 205              		.global	hal_mcu_init
 206              		.syntax unified
 207              		.code	16
 208              		.thumb_func
 209              		.fpu softvfp
 211              	hal_mcu_init:
 212              		@ args = 0, pretend = 0, frame = 112
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 214 0000 70B5     		push	{r4, r5, r6, lr}
 215 0002 9CB0     		sub	sp, sp, #112
 216 0004 FFF7FEFF 		bl	HAL_Init
 217 0008 3422     		movs	r2, #52
 218 000a 0021     		movs	r1, #0
 219 000c 0EA8     		add	r0, sp, #56
 220 000e FFF7FEFF 		bl	memset
 221 0012 444C     		ldr	r4, .L15
 222 0014 1422     		movs	r2, #20
 223 0016 0021     		movs	r1, #0
 224 0018 6846     		mov	r0, sp
 225 001a FFF7FEFF 		bl	memset
 226 001e 2022     		movs	r2, #32
 227 0020 0021     		movs	r1, #0
 228 0022 06A8     		add	r0, sp, #24
 229 0024 FFF7FEFF 		bl	memset
 230 0028 FFF7FEFF 		bl	HAL_PWR_EnableBkUpAccess
 231 002c 236D     		ldr	r3, [r4, #80]
 232 002e 3E4A     		ldr	r2, .L15+4
 233 0030 0EA8     		add	r0, sp, #56
 234 0032 1340     		ands	r3, r2
 235 0034 2365     		str	r3, [r4, #80]
 236 0036 0E23     		movs	r3, #14
 237 0038 8022     		movs	r2, #128
 238 003a 0E93     		str	r3, [sp, #56]
 239 003c 0123     		movs	r3, #1
 240 003e 5200     		lsls	r2, r2, #1
 241 0040 1092     		str	r2, [sp, #64]
ARM GAS  /tmp/ccY6g22J.s 			page 5


 242 0042 1193     		str	r3, [sp, #68]
 243 0044 0123     		movs	r3, #1
 244 0046 1022     		movs	r2, #16
 245 0048 1292     		str	r2, [sp, #72]
 246 004a 1393     		str	r3, [sp, #76]
 247 004c 0223     		movs	r3, #2
 248 004e 1793     		str	r3, [sp, #92]
 249 0050 0023     		movs	r3, #0
 250 0052 1893     		str	r3, [sp, #96]
 251 0054 8023     		movs	r3, #128
 252 0056 1B03     		lsls	r3, r3, #12
 253 0058 1993     		str	r3, [sp, #100]
 254 005a 8023     		movs	r3, #128
 255 005c 1B04     		lsls	r3, r3, #16
 256 005e 1A93     		str	r3, [sp, #104]
 257 0060 FFF7FEFF 		bl	HAL_RCC_OscConfig
 258 0064 0028     		cmp	r0, #0
 259 0066 12D0     		beq	.L13
 260              	.L14:
 261 0068 304C     		ldr	r4, .L15+8
 262 006a 3149     		ldr	r1, .L15+12
 263 006c 2500     		movs	r5, r4
 264 006e 2000     		movs	r0, r4
 265 0070 1535     		adds	r5, r5, #21
 266 0072 FFF7FEFF 		bl	hal_trace_print_var
 267 0076 2800     		movs	r0, r5
 268 0078 FFF7FEFF 		bl	hal_trace_print_var
 269 007c 2000     		movs	r0, r4
 270 007e 1630     		adds	r0, r0, #22
 271 0080 FFF7FEFF 		bl	hal_trace_print_var
 272 0084 2800     		movs	r0, r5
 273 0086 FFF7FEFF 		bl	hal_trace_print_var
 274 008a FFF7FEFF 		bl	hal_mcu_reset
 275              	.L13:
 276 008e 0F22     		movs	r2, #15
 277 0090 0323     		movs	r3, #3
 278 0092 0025     		movs	r5, #0
 279 0094 0026     		movs	r6, #0
 280 0096 0490     		str	r0, [sp, #16]
 281 0098 0121     		movs	r1, #1
 282 009a 6846     		mov	r0, sp
 283 009c 0092     		str	r2, [sp]
 284 009e 0193     		str	r3, [sp, #4]
 285 00a0 0295     		str	r5, [sp, #8]
 286 00a2 0396     		str	r6, [sp, #12]
 287 00a4 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 288 00a8 0028     		cmp	r0, #0
 289 00aa DDD1     		bne	.L14
 290 00ac C023     		movs	r3, #192
 291 00ae 1B03     		lsls	r3, r3, #12
 292 00b0 0D93     		str	r3, [sp, #52]
 293 00b2 8023     		movs	r3, #128
 294 00b4 AB22     		movs	r2, #171
 295 00b6 5B02     		lsls	r3, r3, #9
 296 00b8 0B90     		str	r0, [sp, #44]
 297 00ba 06A8     		add	r0, sp, #24
 298 00bc 0895     		str	r5, [sp, #32]
ARM GAS  /tmp/ccY6g22J.s 			page 6


 299 00be 0996     		str	r6, [sp, #36]
 300 00c0 0692     		str	r2, [sp, #24]
 301 00c2 0793     		str	r3, [sp, #28]
 302 00c4 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 303 00c8 061E     		subs	r6, r0, #0
 304 00ca CDD1     		bne	.L14
 305 00cc 8023     		movs	r3, #128
 306 00ce A26B     		ldr	r2, [r4, #56]
 307 00d0 5B05     		lsls	r3, r3, #21
 308 00d2 1343     		orrs	r3, r2
 309 00d4 A363     		str	r3, [r4, #56]
 310 00d6 8023     		movs	r3, #128
 311 00d8 E268     		ldr	r2, [r4, #12]
 312 00da 1B02     		lsls	r3, r3, #8
 313 00dc 1343     		orrs	r3, r2
 314 00de E360     		str	r3, [r4, #12]
 315 00e0 0121     		movs	r1, #1
 316 00e2 0420     		movs	r0, #4
 317 00e4 FFF7FEFF 		bl	hal_gpio_init_out
 318 00e8 3300     		movs	r3, r6
 319 00ea 3200     		movs	r2, r6
 320 00ec 3100     		movs	r1, r6
 321 00ee 0720     		movs	r0, #7
 322 00f0 FFF7FEFF 		bl	hal_gpio_init_in
 323 00f4 0122     		movs	r2, #1
 324 00f6 3300     		movs	r3, r6
 325 00f8 1000     		movs	r0, r2
 326 00fa 0221     		movs	r1, #2
 327 00fc FFF7FEFF 		bl	hal_gpio_init_in
 328 0100 0121     		movs	r1, #1
 329 0102 2220     		movs	r0, #34
 330 0104 FFF7FEFF 		bl	hal_gpio_init_out
 331 0108 FFF7FEFF 		bl	uart1_init
 332 010c 1A23     		movs	r3, #26
 333 010e 1E22     		movs	r2, #30
 334 0110 1F21     		movs	r1, #31
 335 0112 0220     		movs	r0, #2
 336 0114 FFF7FEFF 		bl	hal_spi_init
 337 0118 FFF7FEFF 		bl	hal_rtc_init
 338 011c FFF7FEFF 		bl	hal_watchdog_init
 339 0120 1CB0     		add	sp, sp, #112
 340              		@ sp needed
 341 0122 70BD     		pop	{r4, r5, r6, pc}
 342              	.L16:
 343              		.align	2
 344              	.L15:
 345 0124 00100240 		.word	1073876992
 346 0128 FFE7FFFF 		.word	-6145
 347 012c 00000000 		.word	.LANCHOR1
 348 0130 00000000 		.word	.LANCHOR0
 350              		.section	.text.hal_mcu_set_sleep_for_ms,"ax",%progbits
 351              		.align	1
 352              		.global	hal_mcu_set_sleep_for_ms
 353              		.syntax unified
 354              		.code	16
 355              		.thumb_func
 356              		.fpu softvfp
ARM GAS  /tmp/ccY6g22J.s 			page 7


 358              	hal_mcu_set_sleep_for_ms:
 359              		@ args = 0, pretend = 0, frame = 88
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361 0000 70B5     		push	{r4, r5, r6, lr}
 362 0002 0600     		movs	r6, r0
 363 0004 96B0     		sub	sp, sp, #88
 364 0006 0028     		cmp	r0, #0
 365 0008 05DD     		ble	.L17
 366 000a 544C     		ldr	r4, .L33
 367 000c 2378     		ldrb	r3, [r4]
 368 000e 022B     		cmp	r3, #2
 369 0010 03D1     		bne	.L20
 370 0012 0023     		movs	r3, #0
 371 0014 2370     		strb	r3, [r4]
 372              	.L17:
 373 0016 16B0     		add	sp, sp, #88
 374              		@ sp needed
 375 0018 70BD     		pop	{r4, r5, r6, pc}
 376              	.L20:
 377 001a FFF7FEFF 		bl	watchdog_reload
 378 001e 2378     		ldrb	r3, [r4]
 379 0020 002B     		cmp	r3, #0
 380 0022 F8D1     		bne	.L17
 381 0024 0124     		movs	r4, #1
 382              	.L27:
 383 0026 4E49     		ldr	r1, .L33+4
 384 0028 8E42     		cmp	r6, r1
 385 002a 56DD     		ble	.L22
 386 002c 4D4B     		ldr	r3, .L33+8
 387 002e 4E48     		ldr	r0, .L33+12
 388 0030 F618     		adds	r6, r6, r3
 389 0032 FFF7FEFF 		bl	TimerSetValue
 390 0036 0023     		movs	r3, #0
 391 0038 0193     		str	r3, [sp, #4]
 392              	.L23:
 393 003a 0025     		movs	r5, #0
 394 003c 4B4B     		ldr	r3, .L33+16
 395 003e 4A48     		ldr	r0, .L33+12
 396 0040 1D70     		strb	r5, [r3]
 397 0042 FFF7FEFF 		bl	TimerStart
 398 0046 FFF7FEFF 		bl	HAL_SuspendTick
 399              		.syntax divided
 400              	@ 209 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 401 004a 72B6     		cpsid i
 402              	@ 0 "" 2
 403              		.thumb
 404              		.syntax unified
 405 004c 09A8     		add	r0, sp, #36
 406 004e FFF7FEFF 		bl	hal_mcu_critical_section_begin
 407 0052 0220     		movs	r0, #2
 408 0054 FFF7FEFF 		bl	hal_spi_de_init
 409 0058 FFF7FEFF 		bl	uart1_deinit
 410 005c 2000     		movs	r0, r4
 411 005e FFF7FEFF 		bl	hal_i2c_deinit
 412 0062 2000     		movs	r0, r4
 413 0064 FFF7FEFF 		bl	hal_spi_de_init
 414 0068 2100     		movs	r1, r4
ARM GAS  /tmp/ccY6g22J.s 			page 8


 415 006a 2000     		movs	r0, r4
 416 006c FFF7FEFF 		bl	HAL_PWR_EnterSTOPMode
 417 0070 099B     		ldr	r3, [sp, #36]
 418              		.syntax divided
 419              	@ 481 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 420 0072 83F31088 		MSR primask, r3
 421              	@ 0 "" 2
 422              		.thumb
 423              		.syntax unified
 424 0076 02A8     		add	r0, sp, #8
 425 0078 FFF7FEFF 		bl	hal_mcu_critical_section_begin
 426 007c 2900     		movs	r1, r5
 427 007e 1422     		movs	r2, #20
 428 0080 04A8     		add	r0, sp, #16
 429 0082 FFF7FEFF 		bl	memset
 430 0086 2900     		movs	r1, r5
 431 0088 3422     		movs	r2, #52
 432 008a 09A8     		add	r0, sp, #36
 433 008c FFF7FEFF 		bl	memset
 434 0090 8023     		movs	r3, #128
 435 0092 374A     		ldr	r2, .L33+20
 436 0094 0395     		str	r5, [sp, #12]
 437 0096 916B     		ldr	r1, [r2, #56]
 438 0098 5B05     		lsls	r3, r3, #21
 439 009a 0B43     		orrs	r3, r1
 440 009c 09A8     		add	r0, sp, #36
 441 009e 9363     		str	r3, [r2, #56]
 442 00a0 FFF7FEFF 		bl	HAL_RCC_GetOscConfig
 443 00a4 0995     		str	r5, [sp, #36]
 444 00a6 09A8     		add	r0, sp, #36
 445 00a8 0235     		adds	r5, r5, #2
 446 00aa 1295     		str	r5, [sp, #72]
 447 00ac FFF7FEFF 		bl	HAL_RCC_OscConfig
 448 00b0 0028     		cmp	r0, #0
 449 00b2 18D0     		beq	.L24
 450              	.L25:
 451 00b4 2F4C     		ldr	r4, .L33+24
 452 00b6 3049     		ldr	r1, .L33+28
 453 00b8 2500     		movs	r5, r4
 454 00ba 2000     		movs	r0, r4
 455 00bc 1535     		adds	r5, r5, #21
 456 00be FFF7FEFF 		bl	hal_trace_print_var
 457 00c2 2800     		movs	r0, r5
 458 00c4 FFF7FEFF 		bl	hal_trace_print_var
 459 00c8 2000     		movs	r0, r4
 460 00ca 1630     		adds	r0, r0, #22
 461 00cc FFF7FEFF 		bl	hal_trace_print_var
 462 00d0 2800     		movs	r0, r5
 463 00d2 FFF7FEFF 		bl	hal_trace_print_var
 464 00d6 FFF7FEFF 		bl	hal_mcu_reset
 465              	.L22:
 466 00da 3100     		movs	r1, r6
 467 00dc 2248     		ldr	r0, .L33+12
 468 00de FFF7FEFF 		bl	TimerSetValue
 469 00e2 0194     		str	r4, [sp, #4]
 470 00e4 A9E7     		b	.L23
 471              	.L24:
ARM GAS  /tmp/ccY6g22J.s 			page 9


 472 00e6 03A9     		add	r1, sp, #12
 473 00e8 04A8     		add	r0, sp, #16
 474 00ea FFF7FEFF 		bl	HAL_RCC_GetClockConfig
 475 00ee 0122     		movs	r2, #1
 476 00f0 0323     		movs	r3, #3
 477 00f2 0399     		ldr	r1, [sp, #12]
 478 00f4 04A8     		add	r0, sp, #16
 479 00f6 0492     		str	r2, [sp, #16]
 480 00f8 0593     		str	r3, [sp, #20]
 481 00fa FFF7FEFF 		bl	HAL_RCC_ClockConfig
 482 00fe 0028     		cmp	r0, #0
 483 0100 D8D1     		bne	.L25
 484 0102 FFF7FEFF 		bl	uart1_init
 485 0106 2000     		movs	r0, r4
 486 0108 1622     		movs	r2, #22
 487 010a 1921     		movs	r1, #25
 488 010c FFF7FEFF 		bl	hal_i2c_init
 489 0110 2000     		movs	r0, r4
 490 0112 1323     		movs	r3, #19
 491 0114 1422     		movs	r2, #20
 492 0116 1521     		movs	r1, #21
 493 0118 FFF7FEFF 		bl	hal_spi_init
 494 011c 1A23     		movs	r3, #26
 495 011e 1E22     		movs	r2, #30
 496 0120 1F21     		movs	r1, #31
 497 0122 2800     		movs	r0, r5
 498 0124 FFF7FEFF 		bl	hal_spi_init
 499 0128 029B     		ldr	r3, [sp, #8]
 500              		.syntax divided
 501              	@ 481 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 502 012a 83F31088 		MSR primask, r3
 503              	@ 0 "" 2
 504              	@ 198 "bsp_l0/mcu_drivers/cmsis/Core/Include/cmsis_gcc.h" 1
 505 012e 62B6     		cpsie i
 506              	@ 0 "" 2
 507              		.thumb
 508              		.syntax unified
 509 0130 FFF7FEFF 		bl	HAL_ResumeTick
 510 0134 FFF7FEFF 		bl	watchdog_reload
 511 0138 0C4B     		ldr	r3, .L33+16
 512 013a 1B78     		ldrb	r3, [r3]
 513 013c 002B     		cmp	r3, #0
 514 013e 03D0     		beq	.L26
 515 0140 019B     		ldr	r3, [sp, #4]
 516 0142 002B     		cmp	r3, #0
 517 0144 00D1     		bne	.LCB433
 518 0146 6EE7     		b	.L27	@long jump
 519              	.LCB433:
 520              	.L26:
 521 0148 084B     		ldr	r3, .L33+16
 522 014a 1B78     		ldrb	r3, [r3]
 523 014c 002B     		cmp	r3, #0
 524 014e 00D0     		beq	.LCB439
 525 0150 61E7     		b	.L17	@long jump
 526              	.LCB439:
 527 0152 0548     		ldr	r0, .L33+12
 528 0154 FFF7FEFF 		bl	TimerStop
ARM GAS  /tmp/ccY6g22J.s 			page 10


 529 0158 5DE7     		b	.L17
 530              	.L34:
 531 015a C046     		.align	2
 532              	.L33:
 533 015c 00000000 		.word	.LANCHOR2
 534 0160 204E0000 		.word	20000
 535 0164 E0B1FFFF 		.word	-20000
 536 0168 00000000 		.word	.LANCHOR3
 537 016c 00000000 		.word	.LANCHOR4
 538 0170 00100240 		.word	1073876992
 539 0174 00000000 		.word	.LANCHOR1
 540 0178 00000000 		.word	.LANCHOR5
 542              		.section	.text.hal_mcu_disable_low_power_wait,"ax",%progbits
 543              		.align	1
 544              		.global	hal_mcu_disable_low_power_wait
 545              		.syntax unified
 546              		.code	16
 547              		.thumb_func
 548              		.fpu softvfp
 550              	hal_mcu_disable_low_power_wait:
 551              		@ args = 0, pretend = 0, frame = 0
 552              		@ frame_needed = 0, uses_anonymous_args = 0
 553              		@ link register save eliminated.
 554 0000 0123     		movs	r3, #1
 555              		@ sp needed
 556 0002 024A     		ldr	r2, .L36
 557 0004 1370     		strb	r3, [r2]
 558 0006 024A     		ldr	r2, .L36+4
 559 0008 1370     		strb	r3, [r2]
 560 000a 7047     		bx	lr
 561              	.L37:
 562              		.align	2
 563              	.L36:
 564 000c 00000000 		.word	.LANCHOR6
 565 0010 00000000 		.word	.LANCHOR2
 567              		.section	.text.hal_mcu_enable_low_power_wait,"ax",%progbits
 568              		.align	1
 569              		.global	hal_mcu_enable_low_power_wait
 570              		.syntax unified
 571              		.code	16
 572              		.thumb_func
 573              		.fpu softvfp
 575              	hal_mcu_enable_low_power_wait:
 576              		@ args = 0, pretend = 0, frame = 0
 577              		@ frame_needed = 0, uses_anonymous_args = 0
 578              		@ link register save eliminated.
 579 0000 0023     		movs	r3, #0
 580              		@ sp needed
 581 0002 024A     		ldr	r2, .L39
 582 0004 1370     		strb	r3, [r2]
 583 0006 024A     		ldr	r2, .L39+4
 584 0008 1370     		strb	r3, [r2]
 585 000a 7047     		bx	lr
 586              	.L40:
 587              		.align	2
 588              	.L39:
 589 000c 00000000 		.word	.LANCHOR6
ARM GAS  /tmp/ccY6g22J.s 			page 11


 590 0010 00000000 		.word	.LANCHOR2
 592              		.section	.text.hal_mcu_disable_once_low_power_wait,"ax",%progbits
 593              		.align	1
 594              		.global	hal_mcu_disable_once_low_power_wait
 595              		.syntax unified
 596              		.code	16
 597              		.thumb_func
 598              		.fpu softvfp
 600              	hal_mcu_disable_once_low_power_wait:
 601              		@ args = 0, pretend = 0, frame = 0
 602              		@ frame_needed = 0, uses_anonymous_args = 0
 603              		@ link register save eliminated.
 604 0000 0122     		movs	r2, #1
 605              		@ sp needed
 606 0002 034B     		ldr	r3, .L42
 607 0004 1A70     		strb	r2, [r3]
 608 0006 034B     		ldr	r3, .L42+4
 609 0008 9218     		adds	r2, r2, r2
 610 000a 1A70     		strb	r2, [r3]
 611 000c 7047     		bx	lr
 612              	.L43:
 613 000e C046     		.align	2
 614              	.L42:
 615 0010 00000000 		.word	.LANCHOR6
 616 0014 00000000 		.word	.LANCHOR2
 618              		.section	.text.SysTick_Handler,"ax",%progbits
 619              		.align	1
 620              		.global	SysTick_Handler
 621              		.syntax unified
 622              		.code	16
 623              		.thumb_func
 624              		.fpu softvfp
 626              	SysTick_Handler:
 627              		@ args = 0, pretend = 0, frame = 0
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629 0000 10B5     		push	{r4, lr}
 630 0002 FFF7FEFF 		bl	HAL_IncTick
 631              		@ sp needed
 632 0006 FFF7FEFF 		bl	HAL_SYSTICK_IRQHandler
 633 000a 10BD     		pop	{r4, pc}
 635              		.section	.text.HAL_MspInit,"ax",%progbits
 636              		.align	1
 637              		.global	HAL_MspInit
 638              		.syntax unified
 639              		.code	16
 640              		.thumb_func
 641              		.fpu softvfp
 643              	HAL_MspInit:
 644              		@ args = 0, pretend = 0, frame = 0
 645              		@ frame_needed = 0, uses_anonymous_args = 0
 646 0000 0022     		movs	r2, #0
 647 0002 0120     		movs	r0, #1
 648 0004 10B5     		push	{r4, lr}
 649 0006 1100     		movs	r1, r2
 650              		@ sp needed
 651 0008 4042     		rsbs	r0, r0, #0
 652 000a FFF7FEFF 		bl	HAL_NVIC_SetPriority
ARM GAS  /tmp/ccY6g22J.s 			page 12


 653 000e 10BD     		pop	{r4, pc}
 655              		.section	.text.hal_mcu_delay_ms,"ax",%progbits
 656              		.align	1
 657              		.global	hal_mcu_delay_ms
 658              		.syntax unified
 659              		.code	16
 660              		.thumb_func
 661              		.fpu softvfp
 663              	hal_mcu_delay_ms:
 664              		@ args = 0, pretend = 0, frame = 0
 665              		@ frame_needed = 0, uses_anonymous_args = 0
 666 0000 10B5     		push	{r4, lr}
 667 0002 FFF7FEFF 		bl	HAL_Delay
 668              		@ sp needed
 669 0006 10BD     		pop	{r4, pc}
 671              		.section	.text.HardFault_Handler,"ax",%progbits
 672              		.align	1
 673              		.global	HardFault_Handler
 674              		.syntax unified
 675              		.code	16
 676              		.thumb_func
 677              		.fpu softvfp
 679              	HardFault_Handler:
 680              		@ Volatile: function does not return.
 681              		@ args = 0, pretend = 0, frame = 0
 682              		@ frame_needed = 0, uses_anonymous_args = 0
 683 0000 70B5     		push	{r4, r5, r6, lr}
 684 0002 0C4C     		ldr	r4, .L49
 685 0004 2000     		movs	r0, r4
 686 0006 2500     		movs	r5, r4
 687 0008 2130     		adds	r0, r0, #33
 688 000a 1535     		adds	r5, r5, #21
 689 000c FFF7FEFF 		bl	hal_trace_print_var
 690 0010 2800     		movs	r0, r5
 691 0012 FFF7FEFF 		bl	hal_trace_print_var
 692 0016 2000     		movs	r0, r4
 693 0018 3030     		adds	r0, r0, #48
 694 001a FFF7FEFF 		bl	hal_trace_print_var
 695 001e 2800     		movs	r0, r5
 696 0020 FFF7FEFF 		bl	hal_trace_print_var
 697 0024 2000     		movs	r0, r4
 698 0026 4A30     		adds	r0, r0, #74
 699 0028 FFF7FEFF 		bl	hal_trace_print_var
 700 002c 2800     		movs	r0, r5
 701 002e FFF7FEFF 		bl	hal_trace_print_var
 702              	.L48:
 703 0032 FEE7     		b	.L48
 704              	.L50:
 705              		.align	2
 706              	.L49:
 707 0034 00000000 		.word	.LANCHOR1
 709              		.section	.rodata
 710              		.set	.LANCHOR1,. + 0
 711              	.LC1:
 712 0000 4552524F 		.ascii	"ERROR: mcu_panic:%s\012\000"
 712      523A206D 
 712      63755F70 
ARM GAS  /tmp/ccY6g22J.s 			page 13


 712      616E6963 
 712      3A25730A 
 713              	.LC3:
 714 0015 00       		.ascii	"\000"
 715              	.LC4:
 716 0016 4552524F 		.ascii	"ERROR: -> \000"
 716      523A202D 
 716      3E2000
 717              	.LC20:
 718 0021 4552524F 		.ascii	"ERROR: \033[0;31m\000"
 718      523A201B 
 718      5B303B33 
 718      316D00
 719              	.LC22:
 720 0030 4552524F 		.ascii	"ERROR: HARDFAULT_Handler\012\000"
 720      523A2048 
 720      41524446 
 720      41554C54 
 720      5F48616E 
 721              	.LC23:
 722 004a 4552524F 		.ascii	"ERROR: \033[0m\000"
 722      523A201B 
 722      5B306D00 
 723              		.section	.bss.exit_wait,"aw",%nobits
 724              		.set	.LANCHOR6,. + 0
 727              	exit_wait:
 728 0000 00       		.space	1
 729              		.section	.bss.lp_current_mode,"aw",%nobits
 730              		.set	.LANCHOR2,. + 0
 733              	lp_current_mode:
 734 0000 00       		.space	1
 735              		.section	.bss.wut,"aw",%nobits
 736              		.align	2
 737              		.set	.LANCHOR3,. + 0
 740              	wut:
 741 0000 00000000 		.space	24
 741      00000000 
 741      00000000 
 741      00000000 
 741      00000000 
 742              		.section	.bss.wut_flag,"aw",%nobits
 743              		.set	.LANCHOR4,. + 0
 746              	wut_flag:
 747 0000 00       		.space	1
 748              		.section	.rodata.__func__.0,"a"
 749              		.set	.LANCHOR5,. + 0
 752              	__func__.0:
 753 0000 6C706D5F 		.ascii	"lpm_mcu_reinit\000"
 753      6D63755F 
 753      7265696E 
 753      697400
 754              		.section	.rodata.__func__.1,"a"
 755              		.set	.LANCHOR0,. + 0
 758              	__func__.1:
 759 0000 73797374 		.ascii	"system_clock_config\000"
 759      656D5F63 
 759      6C6F636B 
ARM GAS  /tmp/ccY6g22J.s 			page 14


 759      5F636F6E 
 759      66696700 
 760              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccY6g22J.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 smtc_hal_mcu.c
     /tmp/ccY6g22J.s:13     .text.hal_mcu_wait_us:0000000000000000 $t
     /tmp/ccY6g22J.s:22     .text.hal_mcu_wait_us:0000000000000000 hal_mcu_wait_us
     /tmp/ccY6g22J.s:67     .text.hal_mcu_critical_section_begin:0000000000000000 $t
     /tmp/ccY6g22J.s:74     .text.hal_mcu_critical_section_begin:0000000000000000 hal_mcu_critical_section_begin
     /tmp/ccY6g22J.s:95     .text.hal_mcu_critical_section_end:0000000000000000 $t
     /tmp/ccY6g22J.s:102    .text.hal_mcu_critical_section_end:0000000000000000 hal_mcu_critical_section_end
     /tmp/ccY6g22J.s:117    .text.hal_mcu_disable_irq:0000000000000000 $t
     /tmp/ccY6g22J.s:124    .text.hal_mcu_disable_irq:0000000000000000 hal_mcu_disable_irq
     /tmp/ccY6g22J.s:138    .text.hal_mcu_enable_irq:0000000000000000 $t
     /tmp/ccY6g22J.s:145    .text.hal_mcu_enable_irq:0000000000000000 hal_mcu_enable_irq
     /tmp/ccY6g22J.s:159    .text.hal_mcu_reset:0000000000000000 $t
     /tmp/ccY6g22J.s:166    .text.hal_mcu_reset:0000000000000000 hal_mcu_reset
     /tmp/ccY6g22J.s:200    .text.hal_mcu_reset:0000000000000014 $d
     /tmp/ccY6g22J.s:204    .text.hal_mcu_init:0000000000000000 $t
     /tmp/ccY6g22J.s:211    .text.hal_mcu_init:0000000000000000 hal_mcu_init
     /tmp/ccY6g22J.s:345    .text.hal_mcu_init:0000000000000124 $d
     /tmp/ccY6g22J.s:351    .text.hal_mcu_set_sleep_for_ms:0000000000000000 $t
     /tmp/ccY6g22J.s:358    .text.hal_mcu_set_sleep_for_ms:0000000000000000 hal_mcu_set_sleep_for_ms
     /tmp/ccY6g22J.s:533    .text.hal_mcu_set_sleep_for_ms:000000000000015c $d
     /tmp/ccY6g22J.s:543    .text.hal_mcu_disable_low_power_wait:0000000000000000 $t
     /tmp/ccY6g22J.s:550    .text.hal_mcu_disable_low_power_wait:0000000000000000 hal_mcu_disable_low_power_wait
     /tmp/ccY6g22J.s:564    .text.hal_mcu_disable_low_power_wait:000000000000000c $d
     /tmp/ccY6g22J.s:568    .text.hal_mcu_enable_low_power_wait:0000000000000000 $t
     /tmp/ccY6g22J.s:575    .text.hal_mcu_enable_low_power_wait:0000000000000000 hal_mcu_enable_low_power_wait
     /tmp/ccY6g22J.s:589    .text.hal_mcu_enable_low_power_wait:000000000000000c $d
     /tmp/ccY6g22J.s:593    .text.hal_mcu_disable_once_low_power_wait:0000000000000000 $t
     /tmp/ccY6g22J.s:600    .text.hal_mcu_disable_once_low_power_wait:0000000000000000 hal_mcu_disable_once_low_power_wait
     /tmp/ccY6g22J.s:615    .text.hal_mcu_disable_once_low_power_wait:0000000000000010 $d
     /tmp/ccY6g22J.s:619    .text.SysTick_Handler:0000000000000000 $t
     /tmp/ccY6g22J.s:626    .text.SysTick_Handler:0000000000000000 SysTick_Handler
     /tmp/ccY6g22J.s:636    .text.HAL_MspInit:0000000000000000 $t
     /tmp/ccY6g22J.s:643    .text.HAL_MspInit:0000000000000000 HAL_MspInit
     /tmp/ccY6g22J.s:656    .text.hal_mcu_delay_ms:0000000000000000 $t
     /tmp/ccY6g22J.s:663    .text.hal_mcu_delay_ms:0000000000000000 hal_mcu_delay_ms
     /tmp/ccY6g22J.s:672    .text.HardFault_Handler:0000000000000000 $t
     /tmp/ccY6g22J.s:679    .text.HardFault_Handler:0000000000000000 HardFault_Handler
     /tmp/ccY6g22J.s:707    .text.HardFault_Handler:0000000000000034 $d
     /tmp/ccY6g22J.s:727    .bss.exit_wait:0000000000000000 exit_wait
     /tmp/ccY6g22J.s:728    .bss.exit_wait:0000000000000000 $d
     /tmp/ccY6g22J.s:733    .bss.lp_current_mode:0000000000000000 lp_current_mode
     /tmp/ccY6g22J.s:734    .bss.lp_current_mode:0000000000000000 $d
     /tmp/ccY6g22J.s:736    .bss.wut:0000000000000000 $d
     /tmp/ccY6g22J.s:740    .bss.wut:0000000000000000 wut
     /tmp/ccY6g22J.s:746    .bss.wut_flag:0000000000000000 wut_flag
     /tmp/ccY6g22J.s:747    .bss.wut_flag:0000000000000000 $d
     /tmp/ccY6g22J.s:752    .rodata.__func__.0:0000000000000000 __func__.0
     /tmp/ccY6g22J.s:758    .rodata.__func__.1:0000000000000000 __func__.1

UNDEFINED SYMBOLS
__aeabi_idiv
HAL_Init
memset
HAL_PWR_EnableBkUpAccess
HAL_RCC_OscConfig
hal_trace_print_var
ARM GAS  /tmp/ccY6g22J.s 			page 16


HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
hal_gpio_init_out
hal_gpio_init_in
uart1_init
hal_spi_init
hal_rtc_init
hal_watchdog_init
watchdog_reload
TimerSetValue
TimerStart
HAL_SuspendTick
hal_spi_de_init
uart1_deinit
hal_i2c_deinit
HAL_PWR_EnterSTOPMode
HAL_RCC_GetOscConfig
HAL_RCC_GetClockConfig
hal_i2c_init
HAL_ResumeTick
TimerStop
HAL_IncTick
HAL_SYSTICK_IRQHandler
HAL_NVIC_SetPriority
HAL_Delay
