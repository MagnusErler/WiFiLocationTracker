ARM GAS  /tmp/cc8CKtop.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"button.c"
  10              		.text
  11              		.section	.text.debounce_timer_cb,"ax",%progbits
  12              		.align	1
  13              		.arch armv6s-m
  14              		.syntax unified
  15              		.code	16
  16              		.thumb_func
  17              		.fpu softvfp
  19              	debounce_timer_cb:
  20              		@ args = 0, pretend = 0, frame = 0
  21              		@ frame_needed = 0, uses_anonymous_args = 0
  22 0000 70B5     		push	{r4, r5, r6, lr}
  23 0002 0500     		movs	r5, r0
  24 0004 3035     		adds	r5, r5, #48
  25 0006 2B78     		ldrb	r3, [r5]
  26 0008 0400     		movs	r4, r0
  27 000a 012B     		cmp	r3, #1
  28 000c 09D1     		bne	.L3
  29 000e 0020     		movs	r0, #0
  30 0010 2056     		ldrsb	r0, [r4, r0]
  31 0012 FFF7FEFF 		bl	hal_gpio_get_value
  32 0016 6378     		ldrb	r3, [r4, #1]
  33 0018 9842     		cmp	r0, r3
  34 001a 02D1     		bne	.L3
  35 001c E369     		ldr	r3, [r4, #28]
  36 001e 206A     		ldr	r0, [r4, #32]
  37 0020 9847     		blx	r3
  38              	.L3:
  39              		@ sp needed
  40 0022 0023     		movs	r3, #0
  41 0024 2B70     		strb	r3, [r5]
  42 0026 70BD     		pop	{r4, r5, r6, pc}
  44              		.section	.text.button_cb,"ax",%progbits
  45              		.align	1
  46              		.syntax unified
  47              		.code	16
  48              		.thumb_func
  49              		.fpu softvfp
  51              	button_cb:
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54 0000 0300     		movs	r3, r0
  55 0002 10B5     		push	{r4, lr}
  56 0004 3033     		adds	r3, r3, #48
  57 0006 1A78     		ldrb	r2, [r3]
  58 0008 002A     		cmp	r2, #0
  59 000a 04D1     		bne	.L5
  60 000c 0132     		adds	r2, r2, #1
ARM GAS  /tmp/cc8CKtop.s 			page 2


  61 000e 1A70     		strb	r2, [r3]
  62 0010 0430     		adds	r0, r0, #4
  63 0012 FFF7FEFF 		bl	TimerStart
  64              	.L5:
  65              		@ sp needed
  66 0016 10BD     		pop	{r4, pc}
  68              		.section	.text.button_init,"ax",%progbits
  69              		.align	1
  70              		.global	button_init
  71              		.syntax unified
  72              		.code	16
  73              		.thumb_func
  74              		.fpu softvfp
  76              	button_init:
  77              		@ args = 4, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79 0000 70B5     		push	{r4, r5, r6, lr}
  80 0002 0400     		movs	r4, r0
  81 0004 E361     		str	r3, [r4, #28]
  82 0006 049B     		ldr	r3, [sp, #16]
  83 0008 2170     		strb	r1, [r4]
  84 000a 2362     		str	r3, [r4, #32]
  85 000c 114B     		ldr	r3, .L10
  86 000e 0800     		movs	r0, r1
  87 0010 E362     		str	r3, [r4, #44]
  88 0012 3223     		movs	r3, #50
  89 0014 6386     		strh	r3, [r4, #50]
  90 0016 2300     		movs	r3, r4
  91 0018 0021     		movs	r1, #0
  92 001a 3033     		adds	r3, r3, #48
  93 001c 6270     		strb	r2, [r4, #1]
  94 001e A462     		str	r4, [r4, #40]
  95 0020 1970     		strb	r1, [r3]
  96 0022 8A42     		cmp	r2, r1
  97 0024 13D1     		bne	.L9
  98 0026 0222     		movs	r2, #2
  99 0028 0131     		adds	r1, r1, #1
 100              	.L8:
 101 002a 2300     		movs	r3, r4
 102              		@ sp needed
 103 002c 2433     		adds	r3, r3, #36
 104 002e 251D     		adds	r5, r4, #4
 105 0030 FFF7FEFF 		bl	hal_gpio_init_in
 106 0034 2800     		movs	r0, r5
 107 0036 0849     		ldr	r1, .L10+4
 108 0038 FFF7FEFF 		bl	TimerInit
 109 003c 2800     		movs	r0, r5
 110 003e 2100     		movs	r1, r4
 111 0040 FFF7FEFF 		bl	TimerSetContext
 112 0044 2800     		movs	r0, r5
 113 0046 618E     		ldrh	r1, [r4, #50]
 114 0048 FFF7FEFF 		bl	TimerSetValue
 115 004c 70BD     		pop	{r4, r5, r6, pc}
 116              	.L9:
 117 004e 0221     		movs	r1, #2
 118 0050 0122     		movs	r2, #1
 119 0052 EAE7     		b	.L8
ARM GAS  /tmp/cc8CKtop.s 			page 3


 120              	.L11:
 121              		.align	2
 122              	.L10:
 123 0054 00000000 		.word	button_cb
 124 0058 00000000 		.word	debounce_timer_cb
 126              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/cc8CKtop.s 			page 4


DEFINED SYMBOLS
                            *ABS*:0000000000000000 button.c
     /tmp/cc8CKtop.s:12     .text.debounce_timer_cb:0000000000000000 $t
     /tmp/cc8CKtop.s:19     .text.debounce_timer_cb:0000000000000000 debounce_timer_cb
     /tmp/cc8CKtop.s:45     .text.button_cb:0000000000000000 $t
     /tmp/cc8CKtop.s:51     .text.button_cb:0000000000000000 button_cb
     /tmp/cc8CKtop.s:69     .text.button_init:0000000000000000 $t
     /tmp/cc8CKtop.s:76     .text.button_init:0000000000000000 button_init
     /tmp/cc8CKtop.s:123    .text.button_init:0000000000000054 $d

UNDEFINED SYMBOLS
hal_gpio_get_value
TimerStart
hal_gpio_init_in
TimerInit
TimerSetContext
TimerSetValue
