ARM GAS  /tmp/ccRovImQ.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 23, 1
   3              		.eabi_attribute 24, 1
   4              		.eabi_attribute 25, 1
   5              		.eabi_attribute 26, 1
   6              		.eabi_attribute 30, 4
   7              		.eabi_attribute 34, 0
   8              		.eabi_attribute 18, 4
   9              		.file	"smtc_hal_rtc.c"
  10              		.text
  11              		.section	.text.rtc_get_timestamp_in_ticks,"ax",%progbits
  12              		.align	1
  13              		.arch armv6s-m
  14              		.syntax unified
  15              		.code	16
  16              		.thumb_func
  17              		.fpu softvfp
  19              	rtc_get_timestamp_in_ticks:
  20              		@ args = 0, pretend = 0, frame = 8
  21              		@ frame_needed = 0, uses_anonymous_args = 0
  22 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
  23 0002 0500     		movs	r5, r0
  24 0004 0C00     		movs	r4, r1
  25              	.L2:
  26 0006 234E     		ldr	r6, .L6
  27 0008 234F     		ldr	r7, .L6+4
  28 000a B36A     		ldr	r3, [r6, #40]
  29 000c 0022     		movs	r2, #0
  30 000e 2900     		movs	r1, r5
  31 0010 3800     		movs	r0, r7
  32 0012 0193     		str	r3, [sp, #4]
  33 0014 FFF7FEFF 		bl	HAL_RTC_GetDate
  34 0018 0022     		movs	r2, #0
  35 001a 2100     		movs	r1, r4
  36 001c 3800     		movs	r0, r7
  37 001e FFF7FEFF 		bl	HAL_RTC_GetTime
  38 0022 B26A     		ldr	r2, [r6, #40]
  39 0024 019B     		ldr	r3, [sp, #4]
  40 0026 9A42     		cmp	r2, r3
  41 0028 EDD1     		bne	.L2
  42 002a 0321     		movs	r1, #3
  43 002c EA78     		ldrb	r2, [r5, #3]
  44 002e 1B48     		ldr	r0, .L6+8
  45 0030 6E78     		ldrb	r6, [r5, #1]
  46 0032 5043     		muls	r0, r2
  47 0034 0A40     		ands	r2, r1
  48 0036 5342     		rsbs	r3, r2, #0
  49 0038 5A41     		adcs	r2, r2, r3
  50 003a 5342     		rsbs	r3, r2, #0
  51 003c 184A     		ldr	r2, .L6+12
  52 003e 013E     		subs	r6, r6, #1
  53 0040 1340     		ands	r3, r2
  54 0042 184A     		ldr	r2, .L6+16
  55 0044 AD78     		ldrb	r5, [r5, #2]
  56 0046 9B18     		adds	r3, r3, r2
  57 0048 3D22     		movs	r2, #61
  58 004a 7243     		muls	r2, r6
ARM GAS  /tmp/ccRovImQ.s 			page 2


  59 004c 7600     		lsls	r6, r6, #1
  60 004e F340     		lsrs	r3, r3, r6
  61 0050 0132     		adds	r2, r2, #1
  62 0052 D70F     		lsrs	r7, r2, #31
  63 0054 0330     		adds	r0, r0, #3
  64 0056 BA18     		adds	r2, r7, r2
  65 0058 013D     		subs	r5, r5, #1
  66 005a 8008     		lsrs	r0, r0, #2
  67 005c 5210     		asrs	r2, r2, #1
  68 005e 2818     		adds	r0, r5, r0
  69 0060 1018     		adds	r0, r2, r0
  70 0062 0B40     		ands	r3, r1
  71 0064 C31A     		subs	r3, r0, r3
  72 0066 1048     		ldr	r0, .L6+20
  73 0068 2278     		ldrb	r2, [r4]
  74 006a 5843     		muls	r0, r3
  75 006c E123     		movs	r3, #225
  76 006e 1B01     		lsls	r3, r3, #4
  77 0070 5343     		muls	r3, r2
  78 0072 3C22     		movs	r2, #60
  79 0074 6178     		ldrb	r1, [r4, #1]
  80 0076 0D4D     		ldr	r5, .L6+24
  81 0078 4A43     		muls	r2, r1
  82 007a 9B18     		adds	r3, r3, r2
  83 007c A278     		ldrb	r2, [r4, #2]
  84 007e 6468     		ldr	r4, [r4, #4]
  85 0080 9B18     		adds	r3, r3, r2
  86 0082 1B18     		adds	r3, r3, r0
  87 0084 990D     		lsrs	r1, r3, #22
  88 0086 9802     		lsls	r0, r3, #10
  89 0088 0023     		movs	r3, #0
  90 008a 2A1B     		subs	r2, r5, r4
  91 008c 8018     		adds	r0, r0, r2
  92 008e 5941     		adcs	r1, r1, r3
  93 0090 03B0     		add	sp, sp, #12
  94              		@ sp needed
  95 0092 F0BD     		pop	{r4, r5, r6, r7, pc}
  96              	.L7:
  97              		.align	2
  98              	.L6:
  99 0094 00280040 		.word	1073752064
 100 0098 00000000 		.word	.LANCHOR0
 101 009c B5050000 		.word	1461
 102 00a0 B0AAAAFF 		.word	-5592400
 103 00a4 A0AA9900 		.word	10070688
 104 00a8 80510100 		.word	86400
 105 00ac FF030000 		.word	1023
 107              		.section	.text.hal_rtc_get_timer_context,"ax",%progbits
 108              		.align	1
 109              		.global	hal_rtc_get_timer_context
 110              		.syntax unified
 111              		.code	16
 112              		.thumb_func
 113              		.fpu softvfp
 115              	hal_rtc_get_timer_context:
 116              		@ args = 0, pretend = 0, frame = 0
 117              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccRovImQ.s 			page 3


 118              		@ link register save eliminated.
 119 0000 014B     		ldr	r3, .L9
 120              		@ sp needed
 121 0002 586A     		ldr	r0, [r3, #36]
 122 0004 7047     		bx	lr
 123              	.L10:
 124 0006 C046     		.align	2
 125              	.L9:
 126 0008 00000000 		.word	.LANCHOR0
 128              		.section	.text.hal_rtc_set_timer_context,"ax",%progbits
 129              		.align	1
 130              		.global	hal_rtc_set_timer_context
 131              		.syntax unified
 132              		.code	16
 133              		.thumb_func
 134              		.fpu softvfp
 136              	hal_rtc_set_timer_context:
 137              		@ args = 0, pretend = 0, frame = 0
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 139 0000 10B5     		push	{r4, lr}
 140 0002 044C     		ldr	r4, .L12
 141              		@ sp needed
 142 0004 2100     		movs	r1, r4
 143 0006 2000     		movs	r0, r4
 144 0008 2831     		adds	r1, r1, #40
 145 000a 3C30     		adds	r0, r0, #60
 146 000c FFF7FEFF 		bl	rtc_get_timestamp_in_ticks
 147 0010 6062     		str	r0, [r4, #36]
 148 0012 10BD     		pop	{r4, pc}
 149              	.L13:
 150              		.align	2
 151              	.L12:
 152 0014 00000000 		.word	.LANCHOR0
 154              		.section	.rodata.hal_rtc_init.str1.1,"aMS",%progbits,1
 155              	.LC7:
 156 0000 4552524F 		.ascii	"ERROR: mcu_panic:%s\012\000"
 156      523A206D 
 156      63755F70 
 156      616E6963 
 156      3A25730A 
 157              	.LC9:
 158 0015 00       		.ascii	"\000"
 159              	.LC11:
 160 0016 4552524F 		.ascii	"ERROR: -> \000"
 160      523A202D 
 160      3E2000
 161              		.section	.text.hal_rtc_init,"ax",%progbits
 162              		.align	1
 163              		.global	hal_rtc_init
 164              		.syntax unified
 165              		.code	16
 166              		.thumb_func
 167              		.fpu softvfp
 169              	hal_rtc_init:
 170              		@ args = 0, pretend = 0, frame = 24
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccRovImQ.s 			page 4


 173 0002 1F22     		movs	r2, #31
 174 0004 1C4C     		ldr	r4, .L19
 175 0006 1D4B     		ldr	r3, .L19+4
 176 0008 A260     		str	r2, [r4, #8]
 177 000a 2360     		str	r3, [r4]
 178 000c 0023     		movs	r3, #0
 179 000e 1C4A     		ldr	r2, .L19+8
 180 0010 87B0     		sub	sp, sp, #28
 181 0012 2000     		movs	r0, r4
 182 0014 6360     		str	r3, [r4, #4]
 183 0016 E260     		str	r2, [r4, #12]
 184 0018 2361     		str	r3, [r4, #16]
 185 001a 6361     		str	r3, [r4, #20]
 186 001c A361     		str	r3, [r4, #24]
 187 001e E361     		str	r3, [r4, #28]
 188 0020 FFF7FEFF 		bl	HAL_RTC_Init
 189 0024 0028     		cmp	r0, #0
 190 0026 0FD0     		beq	.L15
 191 0028 1649     		ldr	r1, .L19+12
 192 002a 1748     		ldr	r0, .L19+16
 193 002c FFF7FEFF 		bl	hal_trace_print_var
 194 0030 164D     		ldr	r5, .L19+20
 195 0032 2800     		movs	r0, r5
 196 0034 FFF7FEFF 		bl	hal_trace_print_var
 197 0038 1548     		ldr	r0, .L19+24
 198 003a FFF7FEFF 		bl	hal_trace_print_var
 199 003e 2800     		movs	r0, r5
 200 0040 FFF7FEFF 		bl	hal_trace_print_var
 201 0044 FFF7FEFF 		bl	hal_mcu_reset
 202              	.L15:
 203 0048 124B     		ldr	r3, .L19+28
 204 004a 6946     		mov	r1, sp
 205 004c 0022     		movs	r2, #0
 206 004e 2000     		movs	r0, r4
 207 0050 0093     		str	r3, [sp]
 208 0052 FFF7FEFF 		bl	HAL_RTC_SetDate
 209 0056 0022     		movs	r2, #0
 210 0058 01A9     		add	r1, sp, #4
 211 005a 2000     		movs	r0, r4
 212 005c 0292     		str	r2, [sp, #8]
 213 005e 0192     		str	r2, [sp, #4]
 214 0060 0492     		str	r2, [sp, #16]
 215 0062 0592     		str	r2, [sp, #20]
 216 0064 FFF7FEFF 		bl	HAL_RTC_SetTime
 217 0068 2000     		movs	r0, r4
 218 006a FFF7FEFF 		bl	HAL_RTCEx_EnableBypassShadow
 219 006e FFF7FEFF 		bl	hal_rtc_set_timer_context
 220 0072 07B0     		add	sp, sp, #28
 221              		@ sp needed
 222 0074 30BD     		pop	{r4, r5, pc}
 223              	.L20:
 224 0076 C046     		.align	2
 225              	.L19:
 226 0078 00000000 		.word	.LANCHOR0
 227 007c 00280040 		.word	1073752064
 228 0080 FF030000 		.word	1023
 229 0084 00000000 		.word	.LANCHOR1
ARM GAS  /tmp/ccRovImQ.s 			page 5


 230 0088 00000000 		.word	.LC7
 231 008c 15000000 		.word	.LC9
 232 0090 16000000 		.word	.LC11
 233 0094 01010100 		.word	65793
 235              		.section	.text.hal_rtc_get_timer_elapsed_time,"ax",%progbits
 236              		.align	1
 237              		.global	hal_rtc_get_timer_elapsed_time
 238              		.syntax unified
 239              		.code	16
 240              		.thumb_func
 241              		.fpu softvfp
 243              	hal_rtc_get_timer_elapsed_time:
 244              		@ args = 0, pretend = 0, frame = 24
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246 0000 7FB5     		push	{r0, r1, r2, r3, r4, r5, r6, lr}
 247 0002 6846     		mov	r0, sp
 248 0004 01A9     		add	r1, sp, #4
 249 0006 FFF7FEFF 		bl	rtc_get_timestamp_in_ticks
 250 000a 024B     		ldr	r3, .L22
 251 000c 5B6A     		ldr	r3, [r3, #36]
 252 000e C01A     		subs	r0, r0, r3
 253 0010 07B0     		add	sp, sp, #28
 254              		@ sp needed
 255 0012 00BD     		pop	{pc}
 256              	.L23:
 257              		.align	2
 258              	.L22:
 259 0014 00000000 		.word	.LANCHOR0
 261              		.section	.text.hal_rtc_get_minimum_timeout,"ax",%progbits
 262              		.align	1
 263              		.global	hal_rtc_get_minimum_timeout
 264              		.syntax unified
 265              		.code	16
 266              		.thumb_func
 267              		.fpu softvfp
 269              	hal_rtc_get_minimum_timeout:
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272              		@ link register save eliminated.
 273 0000 0320     		movs	r0, #3
 274              		@ sp needed
 275 0002 7047     		bx	lr
 277              		.section	.text.hal_rtc_get_time_ticks,"ax",%progbits
 278              		.align	1
 279              		.global	hal_rtc_get_time_ticks
 280              		.syntax unified
 281              		.code	16
 282              		.thumb_func
 283              		.fpu softvfp
 285              	hal_rtc_get_time_ticks:
 286              		@ args = 0, pretend = 0, frame = 24
 287              		@ frame_needed = 0, uses_anonymous_args = 0
 288 0000 7FB5     		push	{r0, r1, r2, r3, r4, r5, r6, lr}
 289 0002 6846     		mov	r0, sp
 290 0004 01A9     		add	r1, sp, #4
 291 0006 FFF7FEFF 		bl	rtc_get_timestamp_in_ticks
 292 000a 07B0     		add	sp, sp, #28
ARM GAS  /tmp/ccRovImQ.s 			page 6


 293              		@ sp needed
 294 000c 00BD     		pop	{pc}
 296              		.section	.text.hal_rtc_wakeup_timer_stop,"ax",%progbits
 297              		.align	1
 298              		.global	hal_rtc_wakeup_timer_stop
 299              		.syntax unified
 300              		.code	16
 301              		.thumb_func
 302              		.fpu softvfp
 304              	hal_rtc_wakeup_timer_stop:
 305              		@ args = 0, pretend = 0, frame = 0
 306              		@ frame_needed = 0, uses_anonymous_args = 0
 307 0000 10B5     		push	{r4, lr}
 308 0002 0348     		ldr	r0, .L27
 309 0004 FFF7FEFF 		bl	HAL_RTCEx_DeactivateWakeUpTimer
 310              		@ sp needed
 311 0008 0022     		movs	r2, #0
 312 000a 024B     		ldr	r3, .L27+4
 313 000c 1A60     		str	r2, [r3]
 314 000e 10BD     		pop	{r4, pc}
 315              	.L28:
 316              		.align	2
 317              	.L27:
 318 0010 00000000 		.word	.LANCHOR0
 319 0014 00000000 		.word	.LANCHOR2
 321              		.section	.text.hal_rtc_has_wut_irq_happened,"ax",%progbits
 322              		.align	1
 323              		.global	hal_rtc_has_wut_irq_happened
 324              		.syntax unified
 325              		.code	16
 326              		.thumb_func
 327              		.fpu softvfp
 329              	hal_rtc_has_wut_irq_happened:
 330              		@ args = 0, pretend = 0, frame = 0
 331              		@ frame_needed = 0, uses_anonymous_args = 0
 332              		@ link register save eliminated.
 333 0000 014B     		ldr	r3, .L30
 334              		@ sp needed
 335 0002 1878     		ldrb	r0, [r3]
 336 0004 C0B2     		uxtb	r0, r0
 337 0006 7047     		bx	lr
 338              	.L31:
 339              		.align	2
 340              	.L30:
 341 0008 00000000 		.word	.LANCHOR3
 343              		.section	.text.rtc_tick_2_ms,"ax",%progbits
 344              		.align	1
 345              		.global	rtc_tick_2_ms
 346              		.syntax unified
 347              		.code	16
 348              		.thumb_func
 349              		.fpu softvfp
 351              	rtc_tick_2_ms:
 352              		@ args = 0, pretend = 0, frame = 0
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 354              		@ link register save eliminated.
 355 0000 0300     		movs	r3, r0
ARM GAS  /tmp/ccRovImQ.s 			page 7


 356              		@ sp needed
 357 0002 8205     		lsls	r2, r0, #22
 358 0004 0448     		ldr	r0, .L33
 359 0006 920D     		lsrs	r2, r2, #22
 360 0008 5043     		muls	r0, r2
 361 000a FA22     		movs	r2, #250
 362 000c 9B0A     		lsrs	r3, r3, #10
 363 000e 9200     		lsls	r2, r2, #2
 364 0010 5343     		muls	r3, r2
 365 0012 800A     		lsrs	r0, r0, #10
 366 0014 C018     		adds	r0, r0, r3
 367 0016 7047     		bx	lr
 368              	.L34:
 369              		.align	2
 370              	.L33:
 371 0018 10270000 		.word	10000
 373              		.section	.text.rtc_get_calendar_time.constprop.0,"ax",%progbits
 374              		.align	1
 375              		.syntax unified
 376              		.code	16
 377              		.thumb_func
 378              		.fpu softvfp
 380              	rtc_get_calendar_time.constprop.0:
 381              		@ args = 0, pretend = 0, frame = 24
 382              		@ frame_needed = 0, uses_anonymous_args = 0
 383 0000 70B5     		push	{r4, r5, r6, lr}
 384 0002 86B0     		sub	sp, sp, #24
 385 0004 0600     		movs	r6, r0
 386 0006 01A9     		add	r1, sp, #4
 387 0008 6846     		mov	r0, sp
 388 000a FFF7FEFF 		bl	rtc_get_timestamp_in_ticks
 389 000e 0400     		movs	r4, r0
 390 0010 8005     		lsls	r0, r0, #22
 391 0012 800D     		lsrs	r0, r0, #22
 392 0014 0D00     		movs	r5, r1
 393 0016 FFF7FEFF 		bl	rtc_tick_2_ms
 394 001a AD05     		lsls	r5, r5, #22
 395 001c 3080     		strh	r0, [r6]
 396 001e A00A     		lsrs	r0, r4, #10
 397 0020 2843     		orrs	r0, r5
 398 0022 06B0     		add	sp, sp, #24
 399              		@ sp needed
 400 0024 70BD     		pop	{r4, r5, r6, pc}
 402              		.section	.text.hal_rtc_get_time_100us,"ax",%progbits
 403              		.align	1
 404              		.global	hal_rtc_get_time_100us
 405              		.syntax unified
 406              		.code	16
 407              		.thumb_func
 408              		.fpu softvfp
 410              	hal_rtc_get_time_100us:
 411              		@ args = 0, pretend = 0, frame = 8
 412              		@ frame_needed = 0, uses_anonymous_args = 0
 413 0000 07B5     		push	{r0, r1, r2, lr}
 414 0002 6A46     		mov	r2, sp
 415              		@ sp needed
 416 0004 0023     		movs	r3, #0
ARM GAS  /tmp/ccRovImQ.s 			page 8


 417 0006 901D     		adds	r0, r2, #6
 418 0008 D380     		strh	r3, [r2, #6]
 419 000a FFF7FEFF 		bl	rtc_get_calendar_time.constprop.0
 420 000e 034B     		ldr	r3, .L37
 421 0010 5843     		muls	r0, r3
 422 0012 6B46     		mov	r3, sp
 423 0014 DB88     		ldrh	r3, [r3, #6]
 424 0016 C018     		adds	r0, r0, r3
 425 0018 0EBD     		pop	{r1, r2, r3, pc}
 426              	.L38:
 427 001a C046     		.align	2
 428              	.L37:
 429 001c 10270000 		.word	10000
 431              		.global	__aeabi_uidiv
 432              		.section	.text.hal_rtc_get_time_ms,"ax",%progbits
 433              		.align	1
 434              		.global	hal_rtc_get_time_ms
 435              		.syntax unified
 436              		.code	16
 437              		.thumb_func
 438              		.fpu softvfp
 440              	hal_rtc_get_time_ms:
 441              		@ args = 0, pretend = 0, frame = 0
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 443 0000 10B5     		push	{r4, lr}
 444 0002 FFF7FEFF 		bl	hal_rtc_get_time_100us
 445              		@ sp needed
 446 0006 0A21     		movs	r1, #10
 447 0008 FFF7FEFF 		bl	__aeabi_uidiv
 448 000c 10BD     		pop	{r4, pc}
 450              		.section	.text.hal_rtc_get_time_s,"ax",%progbits
 451              		.align	1
 452              		.global	hal_rtc_get_time_s
 453              		.syntax unified
 454              		.code	16
 455              		.thumb_func
 456              		.fpu softvfp
 458              	hal_rtc_get_time_s:
 459              		@ args = 0, pretend = 0, frame = 8
 460              		@ frame_needed = 0, uses_anonymous_args = 0
 461 0000 07B5     		push	{r0, r1, r2, lr}
 462 0002 6B46     		mov	r3, sp
 463              		@ sp needed
 464 0004 981D     		adds	r0, r3, #6
 465 0006 0023     		movs	r3, #0
 466 0008 0380     		strh	r3, [r0]
 467 000a FFF7FEFF 		bl	rtc_get_calendar_time.constprop.0
 468 000e 0EBD     		pop	{r1, r2, r3, pc}
 470              		.global	__aeabi_uldivmod
 471              		.global	__aeabi_ldivmod
 472              		.section	.text.rtc_ms_2_ticks,"ax",%progbits
 473              		.align	1
 474              		.global	rtc_ms_2_ticks
 475              		.syntax unified
 476              		.code	16
 477              		.thumb_func
 478              		.fpu softvfp
ARM GAS  /tmp/ccRovImQ.s 			page 9


 480              	rtc_ms_2_ticks:
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
 483 0000 10B5     		push	{r4, lr}
 484 0002 410E     		lsrs	r1, r0, #25
 485 0004 7D22     		movs	r2, #125
 486              		@ sp needed
 487 0006 0023     		movs	r3, #0
 488 0008 C001     		lsls	r0, r0, #7
 489 000a FFF7FEFF 		bl	__aeabi_uldivmod
 490 000e 10BD     		pop	{r4, pc}
 492              		.section	.text.rtc_ms_2_wakeup_timer_tick,"ax",%progbits
 493              		.align	1
 494              		.global	rtc_ms_2_wakeup_timer_tick
 495              		.syntax unified
 496              		.code	16
 497              		.thumb_func
 498              		.fpu softvfp
 500              	rtc_ms_2_wakeup_timer_tick:
 501              		@ args = 0, pretend = 0, frame = 0
 502              		@ frame_needed = 0, uses_anonymous_args = 0
 503              		@ link register save eliminated.
 504 0000 0300     		movs	r3, r0
 505              		@ sp needed
 506 0002 0620     		movs	r0, #6
 507 0004 5843     		muls	r0, r3
 508 0006 5B00     		lsls	r3, r3, #1
 509 0008 C009     		lsrs	r0, r0, #7
 510 000a C018     		adds	r0, r0, r3
 511 000c 7047     		bx	lr
 513              		.global	__aeabi_uidivmod
 514              		.section	.text.hal_rtc_wakeup_timer_set_ms,"ax",%progbits
 515              		.align	1
 516              		.global	hal_rtc_wakeup_timer_set_ms
 517              		.syntax unified
 518              		.code	16
 519              		.thumb_func
 520              		.fpu softvfp
 522              	hal_rtc_wakeup_timer_set_ms:
 523              		@ args = 0, pretend = 0, frame = 0
 524              		@ frame_needed = 0, uses_anonymous_args = 0
 525 0000 70B5     		push	{r4, r5, r6, lr}
 526 0002 FFF7FEFF 		bl	rtc_ms_2_wakeup_timer_tick
 527 0006 8023     		movs	r3, #128
 528 0008 0400     		movs	r4, r0
 529 000a 0025     		movs	r5, #0
 530 000c 5B02     		lsls	r3, r3, #9
 531 000e 9842     		cmp	r0, r3
 532 0010 08D3     		bcc	.L44
 533 0012 0B49     		ldr	r1, .L46
 534 0014 FFF7FEFF 		bl	__aeabi_uidiv
 535 0018 0949     		ldr	r1, .L46
 536 001a 0500     		movs	r5, r0
 537 001c 2000     		movs	r0, r4
 538 001e FFF7FEFF 		bl	__aeabi_uidivmod
 539 0022 0C00     		movs	r4, r1
 540              	.L44:
ARM GAS  /tmp/ccRovImQ.s 			page 10


 541              		@ sp needed
 542 0024 074B     		ldr	r3, .L46+4
 543 0026 1D60     		str	r5, [r3]
 544 0028 074D     		ldr	r5, .L46+8
 545 002a 2800     		movs	r0, r5
 546 002c FFF7FEFF 		bl	HAL_RTCEx_DeactivateWakeUpTimer
 547 0030 0022     		movs	r2, #0
 548 0032 064B     		ldr	r3, .L46+12
 549 0034 2800     		movs	r0, r5
 550 0036 2100     		movs	r1, r4
 551 0038 1A70     		strb	r2, [r3]
 552 003a FFF7FEFF 		bl	HAL_RTCEx_SetWakeUpTimer_IT
 553 003e 70BD     		pop	{r4, r5, r6, pc}
 554              	.L47:
 555              		.align	2
 556              	.L46:
 557 0040 FFFF0000 		.word	65535
 558 0044 00000000 		.word	.LANCHOR2
 559 0048 00000000 		.word	.LANCHOR0
 560 004c 00000000 		.word	.LANCHOR3
 562              		.section	.text.rtc_set_timestamp,"ax",%progbits
 563              		.align	1
 564              		.global	rtc_set_timestamp
 565              		.syntax unified
 566              		.code	16
 567              		.thumb_func
 568              		.fpu softvfp
 570              	rtc_set_timestamp:
 571              		@ args = 24, pretend = 16, frame = 8
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573 0000 84B0     		sub	sp, sp, #16
 574 0002 13B5     		push	{r0, r1, r4, lr}
 575 0004 094C     		ldr	r4, .L49
 576 0006 0190     		str	r0, [sp, #4]
 577 0008 0591     		str	r1, [sp, #20]
 578 000a 0692     		str	r2, [sp, #24]
 579 000c 01A9     		add	r1, sp, #4
 580 000e 0022     		movs	r2, #0
 581              		@ sp needed
 582 0010 2000     		movs	r0, r4
 583 0012 0793     		str	r3, [sp, #28]
 584 0014 FFF7FEFF 		bl	HAL_RTC_SetDate
 585 0018 0022     		movs	r2, #0
 586 001a 2000     		movs	r0, r4
 587 001c 05A9     		add	r1, sp, #20
 588 001e FFF7FEFF 		bl	HAL_RTC_SetTime
 589 0022 13BC     		pop	{r0, r1, r4}
 590 0024 08BC     		pop	{r3}
 591 0026 04B0     		add	sp, sp, #16
 592 0028 1847     		bx	r3
 593              	.L50:
 594 002a C046     		.align	2
 595              	.L49:
 596 002c 00000000 		.word	.LANCHOR0
 598              		.section	.text.rtc_get_timestamp,"ax",%progbits
 599              		.align	1
 600              		.global	rtc_get_timestamp
ARM GAS  /tmp/ccRovImQ.s 			page 11


 601              		.syntax unified
 602              		.code	16
 603              		.thumb_func
 604              		.fpu softvfp
 606              	rtc_get_timestamp:
 607              		@ args = 0, pretend = 0, frame = 8
 608              		@ frame_needed = 0, uses_anonymous_args = 0
 609 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 610 0002 0500     		movs	r5, r0
 611 0004 0C00     		movs	r4, r1
 612              	.L52:
 613 0006 094E     		ldr	r6, .L54
 614 0008 094F     		ldr	r7, .L54+4
 615 000a B36A     		ldr	r3, [r6, #40]
 616 000c 0022     		movs	r2, #0
 617 000e 2900     		movs	r1, r5
 618 0010 3800     		movs	r0, r7
 619 0012 0193     		str	r3, [sp, #4]
 620 0014 FFF7FEFF 		bl	HAL_RTC_GetDate
 621 0018 0022     		movs	r2, #0
 622 001a 2100     		movs	r1, r4
 623 001c 3800     		movs	r0, r7
 624 001e FFF7FEFF 		bl	HAL_RTC_GetTime
 625 0022 B26A     		ldr	r2, [r6, #40]
 626 0024 019B     		ldr	r3, [sp, #4]
 627 0026 9A42     		cmp	r2, r3
 628 0028 EDD1     		bne	.L52
 629              		@ sp needed
 630 002a F7BD     		pop	{r0, r1, r2, r4, r5, r6, r7, pc}
 631              	.L55:
 632              		.align	2
 633              	.L54:
 634 002c 00280040 		.word	1073752064
 635 0030 00000000 		.word	.LANCHOR0
 637              		.section	.text.RTC_IRQHandler,"ax",%progbits
 638              		.align	1
 639              		.global	RTC_IRQHandler
 640              		.syntax unified
 641              		.code	16
 642              		.thumb_func
 643              		.fpu softvfp
 645              	RTC_IRQHandler:
 646              		@ args = 0, pretend = 0, frame = 0
 647              		@ frame_needed = 0, uses_anonymous_args = 0
 648 0000 10B5     		push	{r4, lr}
 649 0002 0C4C     		ldr	r4, .L59
 650 0004 2000     		movs	r0, r4
 651 0006 FFF7FEFF 		bl	HAL_RTCEx_WakeUpTimerIRQHandler
 652 000a 0B4A     		ldr	r2, .L59+4
 653 000c 1368     		ldr	r3, [r2]
 654 000e 002B     		cmp	r3, #0
 655 0010 05D1     		bne	.L57
 656 0012 0122     		movs	r2, #1
 657 0014 094B     		ldr	r3, .L59+8
 658 0016 1A70     		strb	r2, [r3]
 659 0018 FFF7FEFF 		bl	TimerIrqHandler
 660              	.L56:
ARM GAS  /tmp/ccRovImQ.s 			page 12


 661              		@ sp needed
 662 001c 10BD     		pop	{r4, pc}
 663              	.L57:
 664 001e 013B     		subs	r3, r3, #1
 665 0020 2000     		movs	r0, r4
 666 0022 1360     		str	r3, [r2]
 667 0024 FFF7FEFF 		bl	HAL_RTCEx_DeactivateWakeUpTimer
 668 0028 0022     		movs	r2, #0
 669 002a 2000     		movs	r0, r4
 670 002c 0449     		ldr	r1, .L59+12
 671 002e FFF7FEFF 		bl	HAL_RTCEx_SetWakeUpTimer_IT
 672 0032 F3E7     		b	.L56
 673              	.L60:
 674              		.align	2
 675              	.L59:
 676 0034 00000000 		.word	.LANCHOR0
 677 0038 00000000 		.word	.LANCHOR2
 678 003c 00000000 		.word	.LANCHOR3
 679 0040 FFFF0000 		.word	65535
 681              		.section	.text.HAL_RTC_MspInit,"ax",%progbits
 682              		.align	1
 683              		.global	HAL_RTC_MspInit
 684              		.syntax unified
 685              		.code	16
 686              		.thumb_func
 687              		.fpu softvfp
 689              	HAL_RTC_MspInit:
 690              		@ args = 0, pretend = 0, frame = 0
 691              		@ frame_needed = 0, uses_anonymous_args = 0
 692 0000 8023     		movs	r3, #128
 693 0002 074A     		ldr	r2, .L62
 694 0004 DB02     		lsls	r3, r3, #11
 695 0006 116D     		ldr	r1, [r2, #80]
 696 0008 10B5     		push	{r4, lr}
 697 000a 0B43     		orrs	r3, r1
 698 000c 1365     		str	r3, [r2, #80]
 699 000e 0022     		movs	r2, #0
 700              		@ sp needed
 701 0010 1100     		movs	r1, r2
 702 0012 0220     		movs	r0, #2
 703 0014 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 704 0018 0220     		movs	r0, #2
 705 001a FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 706 001e 10BD     		pop	{r4, pc}
 707              	.L63:
 708              		.align	2
 709              	.L62:
 710 0020 00100240 		.word	1073876992
 712              		.section	.text.HAL_RTC_MspDeInit,"ax",%progbits
 713              		.align	1
 714              		.global	HAL_RTC_MspDeInit
 715              		.syntax unified
 716              		.code	16
 717              		.thumb_func
 718              		.fpu softvfp
 720              	HAL_RTC_MspDeInit:
 721              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccRovImQ.s 			page 13


 722              		@ frame_needed = 0, uses_anonymous_args = 0
 723 0000 044A     		ldr	r2, .L65
 724 0002 10B5     		push	{r4, lr}
 725 0004 136D     		ldr	r3, [r2, #80]
 726 0006 0449     		ldr	r1, .L65+4
 727 0008 0220     		movs	r0, #2
 728              		@ sp needed
 729 000a 0B40     		ands	r3, r1
 730 000c 1365     		str	r3, [r2, #80]
 731 000e FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 732 0012 10BD     		pop	{r4, pc}
 733              	.L66:
 734              		.align	2
 735              	.L65:
 736 0014 00100240 		.word	1073876992
 737 0018 FFFFFBFF 		.word	-262145
 739              		.section	.bss.bsp_rtc,"aw",%nobits
 740              		.align	2
 741              		.set	.LANCHOR0,. + 0
 744              	bsp_rtc:
 745 0000 00000000 		.space	64
 745      00000000 
 745      00000000 
 745      00000000 
 745      00000000 
 746              		.section	.bss.wakeup_timer_rounds,"aw",%nobits
 747              		.align	2
 748              		.set	.LANCHOR2,. + 0
 751              	wakeup_timer_rounds:
 752 0000 00000000 		.space	4
 753              		.section	.bss.wut_timer_irq_happened,"aw",%nobits
 754              		.set	.LANCHOR3,. + 0
 757              	wut_timer_irq_happened:
 758 0000 00       		.space	1
 759              		.section	.rodata.__func__.0,"a"
 760              		.set	.LANCHOR1,. + 0
 763              	__func__.0:
 764 0000 68616C5F 		.ascii	"hal_rtc_init\000"
 764      7274635F 
 764      696E6974 
 764      00
 765              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccRovImQ.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 smtc_hal_rtc.c
     /tmp/ccRovImQ.s:12     .text.rtc_get_timestamp_in_ticks:0000000000000000 $t
     /tmp/ccRovImQ.s:19     .text.rtc_get_timestamp_in_ticks:0000000000000000 rtc_get_timestamp_in_ticks
     /tmp/ccRovImQ.s:99     .text.rtc_get_timestamp_in_ticks:0000000000000094 $d
     /tmp/ccRovImQ.s:108    .text.hal_rtc_get_timer_context:0000000000000000 $t
     /tmp/ccRovImQ.s:115    .text.hal_rtc_get_timer_context:0000000000000000 hal_rtc_get_timer_context
     /tmp/ccRovImQ.s:126    .text.hal_rtc_get_timer_context:0000000000000008 $d
     /tmp/ccRovImQ.s:129    .text.hal_rtc_set_timer_context:0000000000000000 $t
     /tmp/ccRovImQ.s:136    .text.hal_rtc_set_timer_context:0000000000000000 hal_rtc_set_timer_context
     /tmp/ccRovImQ.s:152    .text.hal_rtc_set_timer_context:0000000000000014 $d
     /tmp/ccRovImQ.s:162    .text.hal_rtc_init:0000000000000000 $t
     /tmp/ccRovImQ.s:169    .text.hal_rtc_init:0000000000000000 hal_rtc_init
     /tmp/ccRovImQ.s:226    .text.hal_rtc_init:0000000000000078 $d
     /tmp/ccRovImQ.s:236    .text.hal_rtc_get_timer_elapsed_time:0000000000000000 $t
     /tmp/ccRovImQ.s:243    .text.hal_rtc_get_timer_elapsed_time:0000000000000000 hal_rtc_get_timer_elapsed_time
     /tmp/ccRovImQ.s:259    .text.hal_rtc_get_timer_elapsed_time:0000000000000014 $d
     /tmp/ccRovImQ.s:262    .text.hal_rtc_get_minimum_timeout:0000000000000000 $t
     /tmp/ccRovImQ.s:269    .text.hal_rtc_get_minimum_timeout:0000000000000000 hal_rtc_get_minimum_timeout
     /tmp/ccRovImQ.s:278    .text.hal_rtc_get_time_ticks:0000000000000000 $t
     /tmp/ccRovImQ.s:285    .text.hal_rtc_get_time_ticks:0000000000000000 hal_rtc_get_time_ticks
     /tmp/ccRovImQ.s:297    .text.hal_rtc_wakeup_timer_stop:0000000000000000 $t
     /tmp/ccRovImQ.s:304    .text.hal_rtc_wakeup_timer_stop:0000000000000000 hal_rtc_wakeup_timer_stop
     /tmp/ccRovImQ.s:318    .text.hal_rtc_wakeup_timer_stop:0000000000000010 $d
     /tmp/ccRovImQ.s:322    .text.hal_rtc_has_wut_irq_happened:0000000000000000 $t
     /tmp/ccRovImQ.s:329    .text.hal_rtc_has_wut_irq_happened:0000000000000000 hal_rtc_has_wut_irq_happened
     /tmp/ccRovImQ.s:341    .text.hal_rtc_has_wut_irq_happened:0000000000000008 $d
     /tmp/ccRovImQ.s:344    .text.rtc_tick_2_ms:0000000000000000 $t
     /tmp/ccRovImQ.s:351    .text.rtc_tick_2_ms:0000000000000000 rtc_tick_2_ms
     /tmp/ccRovImQ.s:371    .text.rtc_tick_2_ms:0000000000000018 $d
     /tmp/ccRovImQ.s:374    .text.rtc_get_calendar_time.constprop.0:0000000000000000 $t
     /tmp/ccRovImQ.s:380    .text.rtc_get_calendar_time.constprop.0:0000000000000000 rtc_get_calendar_time.constprop.0
     /tmp/ccRovImQ.s:403    .text.hal_rtc_get_time_100us:0000000000000000 $t
     /tmp/ccRovImQ.s:410    .text.hal_rtc_get_time_100us:0000000000000000 hal_rtc_get_time_100us
     /tmp/ccRovImQ.s:429    .text.hal_rtc_get_time_100us:000000000000001c $d
     /tmp/ccRovImQ.s:433    .text.hal_rtc_get_time_ms:0000000000000000 $t
     /tmp/ccRovImQ.s:440    .text.hal_rtc_get_time_ms:0000000000000000 hal_rtc_get_time_ms
     /tmp/ccRovImQ.s:451    .text.hal_rtc_get_time_s:0000000000000000 $t
     /tmp/ccRovImQ.s:458    .text.hal_rtc_get_time_s:0000000000000000 hal_rtc_get_time_s
     /tmp/ccRovImQ.s:473    .text.rtc_ms_2_ticks:0000000000000000 $t
     /tmp/ccRovImQ.s:480    .text.rtc_ms_2_ticks:0000000000000000 rtc_ms_2_ticks
     /tmp/ccRovImQ.s:493    .text.rtc_ms_2_wakeup_timer_tick:0000000000000000 $t
     /tmp/ccRovImQ.s:500    .text.rtc_ms_2_wakeup_timer_tick:0000000000000000 rtc_ms_2_wakeup_timer_tick
     /tmp/ccRovImQ.s:515    .text.hal_rtc_wakeup_timer_set_ms:0000000000000000 $t
     /tmp/ccRovImQ.s:522    .text.hal_rtc_wakeup_timer_set_ms:0000000000000000 hal_rtc_wakeup_timer_set_ms
     /tmp/ccRovImQ.s:557    .text.hal_rtc_wakeup_timer_set_ms:0000000000000040 $d
     /tmp/ccRovImQ.s:563    .text.rtc_set_timestamp:0000000000000000 $t
     /tmp/ccRovImQ.s:570    .text.rtc_set_timestamp:0000000000000000 rtc_set_timestamp
     /tmp/ccRovImQ.s:596    .text.rtc_set_timestamp:000000000000002c $d
     /tmp/ccRovImQ.s:599    .text.rtc_get_timestamp:0000000000000000 $t
     /tmp/ccRovImQ.s:606    .text.rtc_get_timestamp:0000000000000000 rtc_get_timestamp
     /tmp/ccRovImQ.s:634    .text.rtc_get_timestamp:000000000000002c $d
     /tmp/ccRovImQ.s:638    .text.RTC_IRQHandler:0000000000000000 $t
     /tmp/ccRovImQ.s:645    .text.RTC_IRQHandler:0000000000000000 RTC_IRQHandler
     /tmp/ccRovImQ.s:676    .text.RTC_IRQHandler:0000000000000034 $d
     /tmp/ccRovImQ.s:682    .text.HAL_RTC_MspInit:0000000000000000 $t
     /tmp/ccRovImQ.s:689    .text.HAL_RTC_MspInit:0000000000000000 HAL_RTC_MspInit
ARM GAS  /tmp/ccRovImQ.s 			page 15


     /tmp/ccRovImQ.s:710    .text.HAL_RTC_MspInit:0000000000000020 $d
     /tmp/ccRovImQ.s:713    .text.HAL_RTC_MspDeInit:0000000000000000 $t
     /tmp/ccRovImQ.s:720    .text.HAL_RTC_MspDeInit:0000000000000000 HAL_RTC_MspDeInit
     /tmp/ccRovImQ.s:736    .text.HAL_RTC_MspDeInit:0000000000000014 $d
     /tmp/ccRovImQ.s:740    .bss.bsp_rtc:0000000000000000 $d
     /tmp/ccRovImQ.s:744    .bss.bsp_rtc:0000000000000000 bsp_rtc
     /tmp/ccRovImQ.s:747    .bss.wakeup_timer_rounds:0000000000000000 $d
     /tmp/ccRovImQ.s:751    .bss.wakeup_timer_rounds:0000000000000000 wakeup_timer_rounds
     /tmp/ccRovImQ.s:757    .bss.wut_timer_irq_happened:0000000000000000 wut_timer_irq_happened
     /tmp/ccRovImQ.s:758    .bss.wut_timer_irq_happened:0000000000000000 $d
     /tmp/ccRovImQ.s:763    .rodata.__func__.0:0000000000000000 __func__.0

UNDEFINED SYMBOLS
HAL_RTC_GetDate
HAL_RTC_GetTime
HAL_RTC_Init
hal_trace_print_var
hal_mcu_reset
HAL_RTC_SetDate
HAL_RTC_SetTime
HAL_RTCEx_EnableBypassShadow
HAL_RTCEx_DeactivateWakeUpTimer
__aeabi_uidiv
__aeabi_uldivmod
__aeabi_ldivmod
__aeabi_uidivmod
HAL_RTCEx_SetWakeUpTimer_IT
HAL_RTCEx_WakeUpTimerIRQHandler
TimerIrqHandler
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_NVIC_DisableIRQ
