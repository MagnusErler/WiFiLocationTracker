ARM GAS  /tmp/ccmN9bDY.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"smtc_hal_flash.c"
  12              		.text
  13              		.section	.text.hal_flash_get_page_size,"ax",%progbits
  14              		.align	1
  15              		.global	hal_flash_get_page_size
  16              		.arch armv7e-m
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu fpv4-sp-d16
  22              	hal_flash_get_page_size:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 4FF40060 		mov	r0, #2048
  27 0004 7047     		bx	lr
  29              		.section	.rodata.hal_flash_erase_page.str1.1,"aMS",%progbits,1
  30              	.LC0:
  31 0000 1B5B303B 		.ascii	"\033[0;31mERROR: Address out of range: 0x%X\015\012"
  31      33316D45 
  31      52524F52 
  31      3A204164 
  31      64726573 
  32 002a 00       		.ascii	"\000"
  33              	.LC1:
  34 002b 1B5B306D 		.ascii	"\033[0m\000"
  34      00
  35              	.LC2:
  36 0030 1B5B303B 		.ascii	"\033[0;31mERROR: FLASH_OPERATION_MAX_RETRY\015\012\000"
  36      33316D45 
  36      52524F52 
  36      3A20464C 
  36      4153485F 
  37              		.section	.text.hal_flash_erase_page,"ax",%progbits
  38              		.align	1
  39              		.global	hal_flash_erase_page
  40              		.syntax unified
  41              		.thumb
  42              		.thumb_func
  43              		.fpu fpv4-sp-d16
  45              	hal_flash_erase_page:
  46              		@ args = 0, pretend = 0, frame = 24
  47              		@ frame_needed = 0, uses_anonymous_args = 0
  48 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  49 0002 87B0     		sub	sp, sp, #28
  50 0004 0023     		movs	r3, #0
  51 0006 0446     		mov	r4, r0
ARM GAS  /tmp/ccmN9bDY.s 			page 2


  52 0008 0193     		str	r3, [sp, #4]
  53 000a 04F17845 		add	r5, r4, #-134217728
  54 000e 0E46     		mov	r6, r1
  55 0010 FFF7FEFF 		bl	HAL_FLASH_Unlock
  56 0014 164B     		ldr	r3, .L10
  57 0016 4FF40042 		mov	r2, #32768
  58 001a B5F5801F 		cmp	r5, #1048576
  59 001e 1A61     		str	r2, [r3, #16]
  60 0020 4FEAD527 		lsr	r7, r5, #11
  61 0024 06D3     		bcc	.L3
  62 0026 1348     		ldr	r0, .L10+4
  63 0028 2146     		mov	r1, r4
  64 002a FFF7FEFF 		bl	hal_trace_print_var
  65 002e 1248     		ldr	r0, .L10+8
  66 0030 FFF7FEFF 		bl	hal_trace_print_var
  67              	.L3:
  68 0034 ED0C     		lsrs	r5, r5, #19
  69 0036 CDE90476 		strd	r7, r6, [sp, #16]
  70 003a 0024     		movs	r4, #0
  71 003c 0135     		adds	r5, r5, #1
  72 003e 0294     		str	r4, [sp, #8]
  73 0040 0395     		str	r5, [sp, #12]
  74              	.L5:
  75 0042 01A9     		add	r1, sp, #4
  76 0044 02A8     		add	r0, sp, #8
  77 0046 FFF7FEFF 		bl	HAL_FLASHEx_Erase
  78 004a 0134     		adds	r4, r4, #1
  79 004c E4B2     		uxtb	r4, r4
  80 004e 40B1     		cbz	r0, .L4
  81 0050 042C     		cmp	r4, #4
  82 0052 F6D1     		bne	.L5
  83              	.L6:
  84 0054 0948     		ldr	r0, .L10+12
  85 0056 FFF7FEFF 		bl	hal_trace_print_var
  86 005a 0748     		ldr	r0, .L10+8
  87 005c FFF7FEFF 		bl	hal_trace_print_var
  88              	.L8:
  89 0060 FEE7     		b	.L8
  90              	.L4:
  91 0062 042C     		cmp	r4, #4
  92 0064 F6D0     		beq	.L6
  93 0066 FFF7FEFF 		bl	HAL_FLASH_Lock
  94 006a 0120     		movs	r0, #1
  95 006c 07B0     		add	sp, sp, #28
  96              		@ sp needed
  97 006e F0BD     		pop	{r4, r5, r6, r7, pc}
  98              	.L11:
  99              		.align	2
 100              	.L10:
 101 0070 00200240 		.word	1073881088
 102 0074 00000000 		.word	.LC0
 103 0078 2B000000 		.word	.LC1
 104 007c 30000000 		.word	.LC2
 106              		.section	.text.hal_flash_write_buffer,"ax",%progbits
 107              		.align	1
 108              		.global	hal_flash_write_buffer
 109              		.syntax unified
ARM GAS  /tmp/ccmN9bDY.s 			page 3


 110              		.thumb
 111              		.thumb_func
 112              		.fpu fpv4-sp-d16
 114              	hal_flash_write_buffer:
 115              		@ args = 0, pretend = 0, frame = 8
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117 0000 5307     		lsls	r3, r2, #29
 118 0002 2DE9F74F 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 119 0006 1446     		mov	r4, r2
 120 0008 1CBF     		itt	ne
 121 000a 22F00704 		bicne	r4, r2, #7
 122 000e 0834     		addne	r4, r4, #8
 123 0010 04EB000B 		add	fp, r4, r0
 124 0014 8046     		mov	r8, r0
 125 0016 8A46     		mov	r10, r1
 126 0018 FFF7FEFF 		bl	HAL_FLASH_Unlock
 127 001c 214B     		ldr	r3, .L29
 128 001e 4FF40042 		mov	r2, #32768
 129 0022 BBF1016F 		cmp	fp, #135266304
 130 0026 1A61     		str	r2, [r3, #16]
 131 0028 39D8     		bhi	.L22
 132 002a 4FF00009 		mov	r9, #0
 133              	.L15:
 134 002e 09EB0801 		add	r1, r9, r8
 135 0032 5945     		cmp	r1, fp
 136 0034 05D3     		bcc	.L21
 137 0036 FFF7FEFF 		bl	HAL_FLASH_Lock
 138              	.L14:
 139 003a 2046     		mov	r0, r4
 140 003c 03B0     		add	sp, sp, #12
 141              		@ sp needed
 142 003e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 143              	.L21:
 144 0042 0023     		movs	r3, #0
 145 0044 0AEB0907 		add	r7, r10, r9
 146 0048 1A46     		mov	r2, r3
 147 004a 1846     		mov	r0, r3
 148              	.L16:
 149 004c 17F8015B 		ldrb	r5, [r7], #1	@ zero_extendqisi2
 150 0050 A3F12006 		sub	r6, r3, #32
 151 0054 C3F1200C 		rsb	ip, r3, #32
 152 0058 05FA06F6 		lsl	r6, r5, r6
 153 005c 25FA0CFC 		lsr	ip, r5, ip
 154 0060 9D40     		lsls	r5, r5, r3
 155 0062 AD18     		adds	r5, r5, r2
 156 0064 46EA0C06 		orr	r6, r6, ip
 157 0068 03F10803 		add	r3, r3, #8
 158 006c 40EB0606 		adc	r6, r0, r6
 159 0070 402B     		cmp	r3, #64
 160 0072 2A46     		mov	r2, r5
 161 0074 3046     		mov	r0, r6
 162 0076 E9D1     		bne	.L16
 163 0078 0027     		movs	r7, #0
 164              	.L18:
 165 007a 2A46     		mov	r2, r5
 166 007c 3346     		mov	r3, r6
 167 007e 0020     		movs	r0, #0
ARM GAS  /tmp/ccmN9bDY.s 			page 4


 168 0080 0191     		str	r1, [sp, #4]
 169 0082 FFF7FEFF 		bl	HAL_FLASH_Program
 170 0086 0137     		adds	r7, r7, #1
 171 0088 FFB2     		uxtb	r7, r7
 172 008a 18B1     		cbz	r0, .L17
 173 008c 042F     		cmp	r7, #4
 174 008e 0199     		ldr	r1, [sp, #4]
 175 0090 F3D1     		bne	.L18
 176              	.L20:
 177              	.L28:
 178 0092 FEE7     		b	.L28
 179              	.L17:
 180 0094 042F     		cmp	r7, #4
 181 0096 FCD0     		beq	.L20
 182 0098 09F10809 		add	r9, r9, #8
 183 009c C7E7     		b	.L15
 184              	.L22:
 185 009e 0024     		movs	r4, #0
 186 00a0 CBE7     		b	.L14
 187              	.L30:
 188 00a2 00BF     		.align	2
 189              	.L29:
 190 00a4 00200240 		.word	1073881088
 192              		.section	.text.hal_flash_read_buffer,"ax",%progbits
 193              		.align	1
 194              		.global	hal_flash_read_buffer
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv4-sp-d16
 200              	hal_flash_read_buffer:
 201              		@ args = 0, pretend = 0, frame = 8
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203              		@ link register save eliminated.
 204 0000 82B0     		sub	sp, sp, #8
 205 0002 0023     		movs	r3, #0
 206 0004 8DF80730 		strb	r3, [sp, #7]
 207 0008 0A44     		add	r2, r2, r1
 208 000a 401A     		subs	r0, r0, r1
 209              	.L32:
 210 000c 9142     		cmp	r1, r2
 211 000e 01D1     		bne	.L33
 212 0010 02B0     		add	sp, sp, #8
 213              		@ sp needed
 214 0012 7047     		bx	lr
 215              	.L33:
 216 0014 4358     		ldr	r3, [r0, r1]
 217 0016 DBB2     		uxtb	r3, r3
 218 0018 8DF80730 		strb	r3, [sp, #7]
 219 001c 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 220 0020 01F8013B 		strb	r3, [r1], #1
 221 0024 F2E7     		b	.L32
 223              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/ccmN9bDY.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 smtc_hal_flash.c
     /tmp/ccmN9bDY.s:14     .text.hal_flash_get_page_size:0000000000000000 $t
     /tmp/ccmN9bDY.s:22     .text.hal_flash_get_page_size:0000000000000000 hal_flash_get_page_size
     /tmp/ccmN9bDY.s:38     .text.hal_flash_erase_page:0000000000000000 $t
     /tmp/ccmN9bDY.s:45     .text.hal_flash_erase_page:0000000000000000 hal_flash_erase_page
     /tmp/ccmN9bDY.s:101    .text.hal_flash_erase_page:0000000000000070 $d
     /tmp/ccmN9bDY.s:107    .text.hal_flash_write_buffer:0000000000000000 $t
     /tmp/ccmN9bDY.s:114    .text.hal_flash_write_buffer:0000000000000000 hal_flash_write_buffer
     /tmp/ccmN9bDY.s:190    .text.hal_flash_write_buffer:00000000000000a4 $d
     /tmp/ccmN9bDY.s:193    .text.hal_flash_read_buffer:0000000000000000 $t
     /tmp/ccmN9bDY.s:200    .text.hal_flash_read_buffer:0000000000000000 hal_flash_read_buffer

UNDEFINED SYMBOLS
HAL_FLASH_Unlock
hal_trace_print_var
HAL_FLASHEx_Erase
HAL_FLASH_Lock
HAL_FLASH_Program
