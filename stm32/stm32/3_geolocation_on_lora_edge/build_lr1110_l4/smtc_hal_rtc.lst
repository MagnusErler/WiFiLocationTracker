ARM GAS  /tmp/cciZvpqf.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"smtc_hal_rtc.c"
  12              		.text
  13              		.section	.text.rtc_get_calendar_time.constprop.0,"ax",%progbits
  14              		.align	1
  15              		.arch armv7e-m
  16              		.syntax unified
  17              		.thumb
  18              		.thumb_func
  19              		.fpu fpv4-sp-d16
  21              	rtc_get_calendar_time.constprop.0:
  22              		@ args = 0, pretend = 0, frame = 32
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24 0000 70B5     		push	{r4, r5, r6, lr}
  25 0002 2E4D     		ldr	r5, .L6
  26 0004 2E4E     		ldr	r6, .L6+4
  27 0006 88B0     		sub	sp, sp, #32
  28 0008 0446     		mov	r4, r0
  29              	.L2:
  30 000a AB6A     		ldr	r3, [r5, #40]
  31 000c 0293     		str	r3, [sp, #8]
  32 000e 0022     		movs	r2, #0
  33 0010 01A9     		add	r1, sp, #4
  34 0012 3046     		mov	r0, r6
  35 0014 FFF7FEFF 		bl	HAL_RTC_GetDate
  36 0018 0022     		movs	r2, #0
  37 001a 03A9     		add	r1, sp, #12
  38 001c 3046     		mov	r0, r6
  39 001e FFF7FEFF 		bl	HAL_RTC_GetTime
  40 0022 AA6A     		ldr	r2, [r5, #40]
  41 0024 029B     		ldr	r3, [sp, #8]
  42 0026 9A42     		cmp	r2, r3
  43 0028 EFD1     		bne	.L2
  44 002a 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
  45 002e 2548     		ldr	r0, .L6+8
  46 0030 9DF80510 		ldrb	r1, [sp, #5]	@ zero_extendqisi2
  47 0034 40F2B553 		movw	r3, #1461
  48 0038 5343     		muls	r3, r2, r3
  49 003a 12F0030F 		tst	r2, #3
  50 003e 03F10305 		add	r5, r3, #3
  51 0042 214A     		ldr	r2, .L6+12
  52 0044 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
  53 0048 08BF     		it	eq
  54 004a 0246     		moveq	r2, r0
  55 004c 0139     		subs	r1, r1, #1
  56 004e 3D20     		movs	r0, #61
  57 0050 4843     		muls	r0, r1, r0
  58 0052 013B     		subs	r3, r3, #1
ARM GAS  /tmp/cciZvpqf.s 			page 2


  59 0054 0130     		adds	r0, r0, #1
  60 0056 03EB9503 		add	r3, r3, r5, lsr #2
  61 005a 00EBD070 		add	r0, r0, r0, lsr #31
  62 005e 03EB6003 		add	r3, r3, r0, asr #1
  63 0062 4800     		lsls	r0, r1, #1
  64 0064 22FA00F0 		lsr	r0, r2, r0
  65 0068 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
  66 006c 9DF80C10 		ldrb	r1, [sp, #12]	@ zero_extendqisi2
  67 0070 C2EB0212 		rsb	r2, r2, r2, lsl #4
  68 0074 00F00300 		and	r0, r0, #3
  69 0078 181A     		subs	r0, r3, r0
  70 007a 9300     		lsls	r3, r2, #2
  71 007c 4FF46162 		mov	r2, #3600
  72 0080 02FB0133 		mla	r3, r2, r1, r3
  73 0084 9DF80E20 		ldrb	r2, [sp, #14]	@ zero_extendqisi2
  74 0088 1344     		add	r3, r3, r2
  75 008a 104A     		ldr	r2, .L6+16
  76 008c 02FB0033 		mla	r3, r2, r0, r3
  77 0090 0498     		ldr	r0, [sp, #16]
  78 0092 C0F57F70 		rsb	r0, r0, #1020
  79 0096 9A0D     		lsrs	r2, r3, #22
  80 0098 0330     		adds	r0, r0, #3
  81 009a 9B02     		lsls	r3, r3, #10
  82 009c 1B18     		adds	r3, r3, r0
  83 009e 42F10000 		adc	r0, r2, #0
  84 00a2 42F21071 		movw	r1, #10000
  85 00a6 C3F30902 		ubfx	r2, r3, #0, #10
  86 00aa 4A43     		muls	r2, r1, r2
  87 00ac 9B0A     		lsrs	r3, r3, #10
  88 00ae 920A     		lsrs	r2, r2, #10
  89 00b0 43EA8050 		orr	r0, r3, r0, lsl #22
  90 00b4 2280     		strh	r2, [r4]	@ movhi
  91 00b6 08B0     		add	sp, sp, #32
  92              		@ sp needed
  93 00b8 70BD     		pop	{r4, r5, r6, pc}
  94              	.L7:
  95 00ba 00BF     		.align	2
  96              	.L6:
  97 00bc 00280040 		.word	1073752064
  98 00c0 00000000 		.word	.LANCHOR0
  99 00c4 50554400 		.word	4478288
 100 00c8 A0AA9900 		.word	10070688
 101 00cc 80510100 		.word	86400
 103              		.section	.rodata.hal_rtc_init.str1.1,"aMS",%progbits,1
 104              	.LC0:
 105 0000 1B5B303B 		.ascii	"\033[0;31mERROR: mcu_panic:%s\012\000"
 105      33316D45 
 105      52524F52 
 105      3A206D63 
 105      755F7061 
 106              	.LC1:
 107 001c 1B5B306D 		.ascii	"\033[0m\000"
 107      00
 108              	.LC2:
 109 0021 1B5B303B 		.ascii	"\033[0;31mERROR: -> \000"
 109      33316D45 
 109      52524F52 
ARM GAS  /tmp/cciZvpqf.s 			page 3


 109      3A202D3E 
 109      2000
 110              		.section	.text.hal_rtc_init,"ax",%progbits
 111              		.align	1
 112              		.global	hal_rtc_init
 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu fpv4-sp-d16
 118              	hal_rtc_init:
 119              		@ args = 0, pretend = 0, frame = 24
 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121 0000 7FB5     		push	{r0, r1, r2, r3, r4, r5, r6, lr}
 122 0002 1B48     		ldr	r0, .L13
 123 0004 1B4A     		ldr	r2, .L13+4
 124 0006 0023     		movs	r3, #0
 125 0008 C0E90023 		strd	r2, r3, [r0]
 126 000c 1F21     		movs	r1, #31
 127 000e 40F2FF32 		movw	r2, #1023
 128 0012 C0E90212 		strd	r1, r2, [r0, #8]
 129 0016 C0E90433 		strd	r3, r3, [r0, #16]
 130 001a C0E90633 		strd	r3, r3, [r0, #24]
 131 001e FFF7FEFF 		bl	HAL_RTC_Init
 132 0022 70B1     		cbz	r0, .L9
 133 0024 1449     		ldr	r1, .L13+8
 134 0026 1548     		ldr	r0, .L13+12
 135 0028 FFF7FEFF 		bl	hal_trace_print_var
 136 002c 1448     		ldr	r0, .L13+16
 137 002e FFF7FEFF 		bl	hal_trace_print_var
 138 0032 1448     		ldr	r0, .L13+20
 139 0034 FFF7FEFF 		bl	hal_trace_print_var
 140 0038 1148     		ldr	r0, .L13+16
 141 003a FFF7FEFF 		bl	hal_trace_print_var
 142 003e FFF7FEFF 		bl	hal_mcu_reset
 143              	.L9:
 144 0042 114B     		ldr	r3, .L13+24
 145 0044 0A48     		ldr	r0, .L13
 146 0046 0093     		str	r3, [sp]
 147 0048 6946     		mov	r1, sp
 148 004a 0022     		movs	r2, #0
 149 004c FFF7FEFF 		bl	HAL_RTC_SetDate
 150 0050 0022     		movs	r2, #0
 151 0052 01A9     		add	r1, sp, #4
 152 0054 0648     		ldr	r0, .L13
 153 0056 CDE90122 		strd	r2, r2, [sp, #4]
 154 005a CDE90422 		strd	r2, r2, [sp, #16]
 155 005e FFF7FEFF 		bl	HAL_RTC_SetTime
 156 0062 0348     		ldr	r0, .L13
 157 0064 FFF7FEFF 		bl	HAL_RTCEx_EnableBypassShadow
 158 0068 07B0     		add	sp, sp, #28
 159              		@ sp needed
 160 006a 5DF804FB 		ldr	pc, [sp], #4
 161              	.L14:
 162 006e 00BF     		.align	2
 163              	.L13:
 164 0070 00000000 		.word	.LANCHOR0
 165 0074 00280040 		.word	1073752064
ARM GAS  /tmp/cciZvpqf.s 			page 4


 166 0078 00000000 		.word	.LANCHOR1
 167 007c 00000000 		.word	.LC0
 168 0080 1C000000 		.word	.LC1
 169 0084 21000000 		.word	.LC2
 170 0088 01010100 		.word	65793
 172              		.section	.text.hal_rtc_get_time_s,"ax",%progbits
 173              		.align	1
 174              		.global	hal_rtc_get_time_s
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 178              		.fpu fpv4-sp-d16
 180              	hal_rtc_get_time_s:
 181              		@ args = 0, pretend = 0, frame = 8
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183 0000 07B5     		push	{r0, r1, r2, lr}
 184 0002 0023     		movs	r3, #0
 185 0004 0DF10600 		add	r0, sp, #6
 186 0008 ADF80630 		strh	r3, [sp, #6]	@ movhi
 187 000c FFF7FEFF 		bl	rtc_get_calendar_time.constprop.0
 188 0010 03B0     		add	sp, sp, #12
 189              		@ sp needed
 190 0012 5DF804FB 		ldr	pc, [sp], #4
 192              		.section	.text.hal_rtc_get_time_ms,"ax",%progbits
 193              		.align	1
 194              		.global	hal_rtc_get_time_ms
 195              		.syntax unified
 196              		.thumb
 197              		.thumb_func
 198              		.fpu fpv4-sp-d16
 200              	hal_rtc_get_time_ms:
 201              		@ args = 0, pretend = 0, frame = 8
 202              		@ frame_needed = 0, uses_anonymous_args = 0
 203 0000 07B5     		push	{r0, r1, r2, lr}
 204 0002 0023     		movs	r3, #0
 205 0004 0DF10600 		add	r0, sp, #6
 206 0008 ADF80630 		strh	r3, [sp, #6]	@ movhi
 207 000c FFF7FEFF 		bl	rtc_get_calendar_time.constprop.0
 208 0010 BDF80630 		ldrh	r3, [sp, #6]
 209 0014 0A22     		movs	r2, #10
 210 0016 B3FBF2F3 		udiv	r3, r3, r2
 211 001a 4FF47A72 		mov	r2, #1000
 212 001e 02FB0030 		mla	r0, r2, r0, r3
 213 0022 03B0     		add	sp, sp, #12
 214              		@ sp needed
 215 0024 5DF804FB 		ldr	pc, [sp], #4
 217              		.section	.text.hal_rtc_wakeup_timer_set_ms,"ax",%progbits
 218              		.align	1
 219              		.global	hal_rtc_wakeup_timer_set_ms
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv4-sp-d16
 225              	hal_rtc_wakeup_timer_set_ms:
 226              		@ args = 0, pretend = 0, frame = 8
 227              		@ frame_needed = 0, uses_anonymous_args = 0
 228 0000 13B5     		push	{r0, r1, r4, lr}
ARM GAS  /tmp/cciZvpqf.s 			page 5


 229 0002 094C     		ldr	r4, .L18
 230 0004 0621     		movs	r1, #6
 231 0006 4143     		muls	r1, r0, r1
 232 0008 4000     		lsls	r0, r0, #1
 233 000a 00EBD111 		add	r1, r0, r1, lsr #7
 234 000e 2046     		mov	r0, r4
 235 0010 0191     		str	r1, [sp, #4]
 236 0012 FFF7FEFF 		bl	HAL_RTCEx_DeactivateWakeUpTimer
 237 0016 0199     		ldr	r1, [sp, #4]
 238 0018 0022     		movs	r2, #0
 239 001a 2046     		mov	r0, r4
 240 001c 02B0     		add	sp, sp, #8
 241              		@ sp needed
 242 001e BDE81040 		pop	{r4, lr}
 243 0022 FFF7FEBF 		b	HAL_RTCEx_SetWakeUpTimer_IT
 244              	.L19:
 245 0026 00BF     		.align	2
 246              	.L18:
 247 0028 00000000 		.word	.LANCHOR0
 249              		.section	.text.hal_rtc_wakeup_timer_stop,"ax",%progbits
 250              		.align	1
 251              		.global	hal_rtc_wakeup_timer_stop
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 255              		.fpu fpv4-sp-d16
 257              	hal_rtc_wakeup_timer_stop:
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
 261 0000 0148     		ldr	r0, .L21
 262 0002 FFF7FEBF 		b	HAL_RTCEx_DeactivateWakeUpTimer
 263              	.L22:
 264 0006 00BF     		.align	2
 265              	.L21:
 266 0008 00000000 		.word	.LANCHOR0
 268              		.section	.text.RTC_WKUP_IRQHandler,"ax",%progbits
 269              		.align	1
 270              		.global	RTC_WKUP_IRQHandler
 271              		.syntax unified
 272              		.thumb
 273              		.thumb_func
 274              		.fpu fpv4-sp-d16
 276              	RTC_WKUP_IRQHandler:
 277              		@ args = 0, pretend = 0, frame = 0
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279              		@ link register save eliminated.
 280 0000 0148     		ldr	r0, .L24
 281 0002 FFF7FEBF 		b	HAL_RTCEx_WakeUpTimerIRQHandler
 282              	.L25:
 283 0006 00BF     		.align	2
 284              	.L24:
 285 0008 00000000 		.word	.LANCHOR0
 287              		.section	.text.HAL_RTC_MspInit,"ax",%progbits
 288              		.align	1
 289              		.global	HAL_RTC_MspInit
 290              		.syntax unified
ARM GAS  /tmp/cciZvpqf.s 			page 6


 291              		.thumb
 292              		.thumb_func
 293              		.fpu fpv4-sp-d16
 295              	HAL_RTC_MspInit:
 296              		@ args = 0, pretend = 0, frame = 0
 297              		@ frame_needed = 0, uses_anonymous_args = 0
 298 0000 084A     		ldr	r2, .L27
 299 0002 08B5     		push	{r3, lr}
 300 0004 D2F89030 		ldr	r3, [r2, #144]
 301 0008 43F40043 		orr	r3, r3, #32768
 302 000c C2F89030 		str	r3, [r2, #144]
 303 0010 0022     		movs	r2, #0
 304 0012 0320     		movs	r0, #3
 305 0014 1146     		mov	r1, r2
 306 0016 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 307 001a BDE80840 		pop	{r3, lr}
 308 001e 0320     		movs	r0, #3
 309 0020 FFF7FEBF 		b	HAL_NVIC_EnableIRQ
 310              	.L28:
 311              		.align	2
 312              	.L27:
 313 0024 00100240 		.word	1073876992
 315              		.section	.text.HAL_RTC_MspDeInit,"ax",%progbits
 316              		.align	1
 317              		.global	HAL_RTC_MspDeInit
 318              		.syntax unified
 319              		.thumb
 320              		.thumb_func
 321              		.fpu fpv4-sp-d16
 323              	HAL_RTC_MspDeInit:
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		@ link register save eliminated.
 327 0000 044A     		ldr	r2, .L30
 328 0002 D2F89030 		ldr	r3, [r2, #144]
 329 0006 23F40043 		bic	r3, r3, #32768
 330 000a C2F89030 		str	r3, [r2, #144]
 331 000e 0320     		movs	r0, #3
 332 0010 FFF7FEBF 		b	HAL_NVIC_DisableIRQ
 333              	.L31:
 334              		.align	2
 335              	.L30:
 336 0014 00100240 		.word	1073876992
 338              		.section	.bss.hal_rtc_handle,"aw",%nobits
 339              		.align	2
 340              		.set	.LANCHOR0,. + 0
 343              	hal_rtc_handle:
 344 0000 00000000 		.space	36
 344      00000000 
 344      00000000 
 344      00000000 
 344      00000000 
 345              		.section	.rodata.__func__.0,"a"
 346              		.set	.LANCHOR1,. + 0
 349              	__func__.0:
 350 0000 68616C5F 		.ascii	"hal_rtc_init\000"
 350      7274635F 
ARM GAS  /tmp/cciZvpqf.s 			page 7


 350      696E6974 
 350      00
 351              		.ident	"GCC: (15:10.3-2021.07-4) 10.3.1 20210621 (release)"
ARM GAS  /tmp/cciZvpqf.s 			page 8


DEFINED SYMBOLS
                            *ABS*:0000000000000000 smtc_hal_rtc.c
     /tmp/cciZvpqf.s:14     .text.rtc_get_calendar_time.constprop.0:0000000000000000 $t
     /tmp/cciZvpqf.s:21     .text.rtc_get_calendar_time.constprop.0:0000000000000000 rtc_get_calendar_time.constprop.0
     /tmp/cciZvpqf.s:97     .text.rtc_get_calendar_time.constprop.0:00000000000000bc $d
     /tmp/cciZvpqf.s:111    .text.hal_rtc_init:0000000000000000 $t
     /tmp/cciZvpqf.s:118    .text.hal_rtc_init:0000000000000000 hal_rtc_init
     /tmp/cciZvpqf.s:164    .text.hal_rtc_init:0000000000000070 $d
     /tmp/cciZvpqf.s:173    .text.hal_rtc_get_time_s:0000000000000000 $t
     /tmp/cciZvpqf.s:180    .text.hal_rtc_get_time_s:0000000000000000 hal_rtc_get_time_s
     /tmp/cciZvpqf.s:193    .text.hal_rtc_get_time_ms:0000000000000000 $t
     /tmp/cciZvpqf.s:200    .text.hal_rtc_get_time_ms:0000000000000000 hal_rtc_get_time_ms
     /tmp/cciZvpqf.s:218    .text.hal_rtc_wakeup_timer_set_ms:0000000000000000 $t
     /tmp/cciZvpqf.s:225    .text.hal_rtc_wakeup_timer_set_ms:0000000000000000 hal_rtc_wakeup_timer_set_ms
     /tmp/cciZvpqf.s:247    .text.hal_rtc_wakeup_timer_set_ms:0000000000000028 $d
     /tmp/cciZvpqf.s:250    .text.hal_rtc_wakeup_timer_stop:0000000000000000 $t
     /tmp/cciZvpqf.s:257    .text.hal_rtc_wakeup_timer_stop:0000000000000000 hal_rtc_wakeup_timer_stop
     /tmp/cciZvpqf.s:266    .text.hal_rtc_wakeup_timer_stop:0000000000000008 $d
     /tmp/cciZvpqf.s:269    .text.RTC_WKUP_IRQHandler:0000000000000000 $t
     /tmp/cciZvpqf.s:276    .text.RTC_WKUP_IRQHandler:0000000000000000 RTC_WKUP_IRQHandler
     /tmp/cciZvpqf.s:285    .text.RTC_WKUP_IRQHandler:0000000000000008 $d
     /tmp/cciZvpqf.s:288    .text.HAL_RTC_MspInit:0000000000000000 $t
     /tmp/cciZvpqf.s:295    .text.HAL_RTC_MspInit:0000000000000000 HAL_RTC_MspInit
     /tmp/cciZvpqf.s:313    .text.HAL_RTC_MspInit:0000000000000024 $d
     /tmp/cciZvpqf.s:316    .text.HAL_RTC_MspDeInit:0000000000000000 $t
     /tmp/cciZvpqf.s:323    .text.HAL_RTC_MspDeInit:0000000000000000 HAL_RTC_MspDeInit
     /tmp/cciZvpqf.s:336    .text.HAL_RTC_MspDeInit:0000000000000014 $d
     /tmp/cciZvpqf.s:339    .bss.hal_rtc_handle:0000000000000000 $d
     /tmp/cciZvpqf.s:343    .bss.hal_rtc_handle:0000000000000000 hal_rtc_handle
     /tmp/cciZvpqf.s:349    .rodata.__func__.0:0000000000000000 __func__.0

UNDEFINED SYMBOLS
HAL_RTC_GetDate
HAL_RTC_GetTime
HAL_RTC_Init
hal_trace_print_var
hal_mcu_reset
HAL_RTC_SetDate
HAL_RTC_SetTime
HAL_RTCEx_EnableBypassShadow
HAL_RTCEx_DeactivateWakeUpTimer
HAL_RTCEx_SetWakeUpTimer_IT
HAL_RTCEx_WakeUpTimerIRQHandler
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_NVIC_DisableIRQ
